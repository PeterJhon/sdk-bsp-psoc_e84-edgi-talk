<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SE RT Services Utilities library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SE RT Services Utilities library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__platform__attestation.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Initial Attestation Token<div class="ingroups"><a class="el" href="group__platform.html">IFX SE Generic Syscall API</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<p >Initial Attestation Token definitions. </p>
<p >SE RT Services supports Initial Attestation Token generation according to "Arm's Platform Security Architecture (PSA) Attestation Token" RFC document <a href="https://datatracker.ietf.org/doc/draft-tschofenig-rats-psa-token/">https://datatracker.ietf.org/doc/draft-tschofenig-rats-psa-token/</a>.</p>
<p >SE RT Services provide Initial Attestation token generation in next steps:</p><ul>
<li>set shared data (measurements) of images by L1 and L2 bootloaders using <a class="el" href="group__platform__attestation.html#gaa067208117ea1e7204948ab76a95bdff">ifx_se_set_shared_data</a> API.</li>
<li>get Initial Attestation token size to allocate memory buffer for token</li>
<li>get Initial Attestation token into provided buffer</li>
</ul>
<p >Shared data can be locked to prevent any changes of measurements using <a class="el" href="group__platform__attestation.html#ga7ee6ddcaab30b2890c5ec99d18a449ca">ifx_se_lock_shared_data</a> API.</p>
<p >Storage for shared data supports up to 7 data blocks of 0x80 bytes, for IDs from 0 to 6.</p>
<p >Attestation token <a class="el" href="group__platform__attestation.html#gab096e7d2f266896930da3902bde2f5d7">ifx_se_initial_attest_get_token_size</a> API returns MAXIMAL size of possible generated token in CBOR format calculated from:</p><ul>
<li>maximal size of challenge, 64 bytes</li>
<li>size of Client ID, 4 bytes (integer value)</li>
<li>maximal size of Verification Services, 32 bytes</li>
<li>maximal size of Certification Reference (Hardware version), 19 bytes (EAN-13-5 string)</li>
<li>maximal size of Profile definition, 32 bytes</li>
<li>maximal size of Implementation ID, 32 bytes</li>
<li>maximal size of Instance ID, 33 bytes</li>
<li>maximal size of Security lifecycle, 4 bytes (integer value)</li>
<li>maximal size of Boot seed, 32 bytes</li>
<li>software components data claim</li>
<li>set of uploaded shared data blocks, max 0x80 per block</li>
<li>system assets information for ROMBoot, RRAMBoot, L1_Boot, SE RT Services; data block of 384 bytes</li>
</ul>
<p >Maximal supported token size is 1510 bytes.</p>
<dl class="section note"><dt>Note</dt><dd>SE RT Services supports only PSA 2.0.0 profile.</dd></dl>
<p>Software components claim ALWAYS contain information of system assets:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Asset   </th><th class="markdownTableHeadLeft">Name   </th><th class="markdownTableHeadLeft">Version   </th><th class="markdownTableHeadLeft">Descr   </th><th class="markdownTableHeadLeft">Signer_ID   </th><th class="markdownTableHeadLeft">Value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">ROMBoot   </td><td class="markdownTableBodyLeft">"ROM boot"   </td><td class="markdownTableBodyLeft">actual asset version   </td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">-    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">RRAMBoot   </td><td class="markdownTableBodyLeft">"RRAM boot"   </td><td class="markdownTableBodyLeft">actual asset version   </td><td class="markdownTableBodyLeft">SHA256   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">asset image hash    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">L1_Boot   </td><td class="markdownTableBodyLeft">"L1 boot"   </td><td class="markdownTableBodyLeft">actual asset version   </td><td class="markdownTableBodyLeft">SHA256   </td><td class="markdownTableBodyLeft">-   </td><td class="markdownTableBodyLeft">asset image hash    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">SE RT Services   </td><td class="markdownTableBodyLeft">"SE RT Services"   </td><td class="markdownTableBodyLeft">actual asset version   </td><td class="markdownTableBodyLeft">SHA256   </td><td class="markdownTableBodyLeft">hash of the signing key <br  />
<a class="el" href="group__builtin__keys.html#gac53b4cd4b657a108a97f3d2698623c0e">IFX_SE_KEY_ID_BUILTIN_ATTEST</a>   </td><td class="markdownTableBodyLeft">asset image hash   </td></tr>
</table>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa067208117ea1e7204948ab76a95bdff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__fih.html#structifx__se__fih__uint">ifx_se_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__platform__attestation.html#gaa067208117ea1e7204948ab76a95bdff">ifx_se_set_shared_data</a> (<a class="el" href="group__fih.html#ga3f01e5cacf10e2e35af27096b162037a">ifx_se_fih_t</a> image_id, const <a class="el" href="group__fih.html#structifx__se__fih__ptr__t">ifx_se_fih_ptr_t</a> data, <a class="el" href="group__fih.html#ga3f01e5cacf10e2e35af27096b162037a">ifx_se_fih_t</a> data_size, void *ctx)</td></tr>
<tr class="memdesc:gaa067208117ea1e7204948ab76a95bdff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives the boot status information (also known as measured boot) in TLV format defined by MCUboot and TF-M design pages.  <a href="group__platform__attestation.html#gaa067208117ea1e7204948ab76a95bdff">More...</a><br /></td></tr>
<tr class="separator:gaa067208117ea1e7204948ab76a95bdff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ee6ddcaab30b2890c5ec99d18a449ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__fih.html#structifx__se__fih__uint">ifx_se_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__platform__attestation.html#ga7ee6ddcaab30b2890c5ec99d18a449ca">ifx_se_lock_shared_data</a> (void *ctx)</td></tr>
<tr class="memdesc:ga7ee6ddcaab30b2890c5ec99d18a449ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locks receiving the boot status information (also known as measured boot) so the shared data can't be modified.  <a href="group__platform__attestation.html#ga7ee6ddcaab30b2890c5ec99d18a449ca">More...</a><br /></td></tr>
<tr class="separator:ga7ee6ddcaab30b2890c5ec99d18a449ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe665a109cd39348050255772ce879a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__fih.html#structifx__se__fih__uint">ifx_se_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__platform__attestation.html#gafe665a109cd39348050255772ce879a2">ifx_se_initial_attest_get_token</a> (const <a class="el" href="group__fih.html#structifx__se__fih__ptr__t">ifx_se_fih_ptr_t</a> challenge, <a class="el" href="group__fih.html#ga3f01e5cacf10e2e35af27096b162037a">ifx_se_fih_t</a> challenge_size, <a class="el" href="group__fih.html#ga3f01e5cacf10e2e35af27096b162037a">ifx_se_fih_t</a> client_id, const <a class="el" href="group__fih.html#structifx__se__fih__ptr__t">ifx_se_fih_ptr_t</a> verify_svc, <a class="el" href="group__fih.html#ga3f01e5cacf10e2e35af27096b162037a">ifx_se_fih_t</a> verify_svc_size, const <a class="el" href="group__fih.html#structifx__se__fih__ptr__t">ifx_se_fih_ptr_t</a> hardware_ver, <a class="el" href="group__fih.html#ga3f01e5cacf10e2e35af27096b162037a">ifx_se_fih_t</a> hardware_ver_size, <a class="el" href="group__fih.html#structifx__se__fih__ptr__t">ifx_se_fih_ptr_t</a> token_data, <a class="el" href="group__fih.html#ga3f01e5cacf10e2e35af27096b162037a">ifx_se_fih_t</a> token_size, <a class="el" href="group__fih.html#structifx__se__fih__ptr__t">ifx_se_fih_ptr_t</a> token_length, void *ctx)</td></tr>
<tr class="memdesc:gafe665a109cd39348050255772ce879a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets Initial Attestation Token created as described in the Initial Attestation Service design page.  <a href="group__platform__attestation.html#gafe665a109cd39348050255772ce879a2">More...</a><br /></td></tr>
<tr class="separator:gafe665a109cd39348050255772ce879a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab096e7d2f266896930da3902bde2f5d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__fih.html#structifx__se__fih__uint">ifx_se_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__platform__attestation.html#gab096e7d2f266896930da3902bde2f5d7">ifx_se_initial_attest_get_token_size</a> (<a class="el" href="group__fih.html#ga3f01e5cacf10e2e35af27096b162037a">ifx_se_fih_t</a> challenge_size, <a class="el" href="group__fih.html#structifx__se__fih__ptr__t">ifx_se_fih_ptr_t</a> token_size, void *ctx)</td></tr>
<tr class="memdesc:gab096e7d2f266896930da3902bde2f5d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets Initial Attestation Token maximal size to allocate token buffer.  <a href="group__platform__attestation.html#gab096e7d2f266896930da3902bde2f5d7">More...</a><br /></td></tr>
<tr class="separator:gab096e7d2f266896930da3902bde2f5d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaa067208117ea1e7204948ab76a95bdff" name="gaa067208117ea1e7204948ab76a95bdff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa067208117ea1e7204948ab76a95bdff">&#9670;&nbsp;</a></span>ifx_se_set_shared_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__fih.html#structifx__se__fih__uint">ifx_se_status_t</a> ifx_se_set_shared_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__fih.html#ga3f01e5cacf10e2e35af27096b162037a">ifx_se_fih_t</a>&#160;</td>
          <td class="paramname"><em>image_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__fih.html#structifx__se__fih__ptr__t">ifx_se_fih_ptr_t</a>&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__fih.html#ga3f01e5cacf10e2e35af27096b162037a">ifx_se_fih_t</a>&#160;</td>
          <td class="paramname"><em>data_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives the boot status information (also known as measured boot) in TLV format defined by MCUboot and TF-M design pages. </p>
<p >Once data integrity is verified it should be stored in RRAM in SE to support DEEP_SLEEP_RAM mode. Only one successful request should be supported per boot process for L1 and L2 Bootloaders, so data can't be modified by the following after OEM L2 Bootloader image. This shared data will be used to create Initial Attestation Token by ifx_se_initial_attest_get_token function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">image_id</td><td>The image_id to set shared data (0 to <a class="el" href="group__syscall__macros.html#ga66a41aa39cfc98c780b2d8526b38ce1d">IFX_SE_SHARED_DATA_IMAGES_NUM</a> - 1). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>The pointer to the memory buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_size</td><td>Size of memory buffer (size_t). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>The pointer to the SE syscall context that contain a special syscall data (IPC release callback etc).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__syscall__errors.html#ga9369eb56a5688c73fd213d7b740f9a47">IFX_SE_SUCCESS</a> for success or error code </dd></dl>

</div>
</div>
<a id="ga7ee6ddcaab30b2890c5ec99d18a449ca" name="ga7ee6ddcaab30b2890c5ec99d18a449ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ee6ddcaab30b2890c5ec99d18a449ca">&#9670;&nbsp;</a></span>ifx_se_lock_shared_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__fih.html#structifx__se__fih__uint">ifx_se_status_t</a> ifx_se_lock_shared_data </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Locks receiving the boot status information (also known as measured boot) so the shared data can't be modified. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>The pointer to the SE syscall context that contain a special syscall data (IPC release callback etc).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__syscall__errors.html#ga9369eb56a5688c73fd213d7b740f9a47">IFX_SE_SUCCESS</a> for success or error code </dd></dl>

</div>
</div>
<a id="gafe665a109cd39348050255772ce879a2" name="gafe665a109cd39348050255772ce879a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe665a109cd39348050255772ce879a2">&#9670;&nbsp;</a></span>ifx_se_initial_attest_get_token()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__fih.html#structifx__se__fih__uint">ifx_se_status_t</a> ifx_se_initial_attest_get_token </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__fih.html#structifx__se__fih__ptr__t">ifx_se_fih_ptr_t</a>&#160;</td>
          <td class="paramname"><em>challenge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__fih.html#ga3f01e5cacf10e2e35af27096b162037a">ifx_se_fih_t</a>&#160;</td>
          <td class="paramname"><em>challenge_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__fih.html#ga3f01e5cacf10e2e35af27096b162037a">ifx_se_fih_t</a>&#160;</td>
          <td class="paramname"><em>client_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__fih.html#structifx__se__fih__ptr__t">ifx_se_fih_ptr_t</a>&#160;</td>
          <td class="paramname"><em>verify_svc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__fih.html#ga3f01e5cacf10e2e35af27096b162037a">ifx_se_fih_t</a>&#160;</td>
          <td class="paramname"><em>verify_svc_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__fih.html#structifx__se__fih__ptr__t">ifx_se_fih_ptr_t</a>&#160;</td>
          <td class="paramname"><em>hardware_ver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__fih.html#ga3f01e5cacf10e2e35af27096b162037a">ifx_se_fih_t</a>&#160;</td>
          <td class="paramname"><em>hardware_ver_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__fih.html#structifx__se__fih__ptr__t">ifx_se_fih_ptr_t</a>&#160;</td>
          <td class="paramname"><em>token_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__fih.html#ga3f01e5cacf10e2e35af27096b162037a">ifx_se_fih_t</a>&#160;</td>
          <td class="paramname"><em>token_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__fih.html#structifx__se__fih__ptr__t">ifx_se_fih_ptr_t</a>&#160;</td>
          <td class="paramname"><em>token_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets Initial Attestation Token created as described in the Initial Attestation Service design page. </p>
<p >It should support only asymmetric key algorithm based attestation (symmetric attestation not supported). It supports all required EAT claims that are defined in the PSA attestation token specification for the new profile (<a href="http://arm.com/psa/2.0.0">http://arm.com/psa/2.0.0</a>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">challenge</td><td>The challenge object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">challenge_size</td><td>The length of the challenge object (size_t). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">client_id</td><td>The partition ID of that secure partition or non-secure thread who called the initial attestation API. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verify_svc</td><td>The pointer to verification service id as text string that can be used to locate the service or a URL specifying the address of the service. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verify_svc_size</td><td>The length of the verification service id (size_t). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hardware_ver</td><td>The pointer to the Certification Reference (Hardware version) string that is used to link the class of chip and PSA RoT of the attesting device to an associated entry in the PSA Certification database. Must be represented as EAN-13-5 formatted string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hardware_ver_size</td><td>The length of the hardware version (size_t). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">token_data</td><td>The pointer to the token buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">token_size</td><td>The size of the token buffer (size_t). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">token_length</td><td>The pointer to the actual size of the generated attestation token (size_t). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>The pointer to the SE syscall context that contain a special syscall data (IPC release callback etc).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__syscall__errors.html#ga9369eb56a5688c73fd213d7b740f9a47">IFX_SE_SUCCESS</a> for success or error code</dd></dl>
<dl class="section note"><dt>Note</dt><dd>For Secure device LCS the LIFECYCLE claim will contain "Recoverable PSA RoT Debug" value with additional debug state in the lowest byte instead of "Secured" when opened or allowed at least one debug AP: <pre class="fragment">*                          bits [2:0] - CM33 policy debug AP configuration:
*                            000 - Disabled, CPU debugging is not allowed, and
*                                  will be permanently disabled during boot.
*                            001 - Enabled, CPU debugging will be enabled
*                                  during boot.
*                            010 - Allowed + Firmware, trusted Firmware can
*                                  directly access DAP control register.
*                            011 - Allowed + Certificate, firmware or SYS-AP
*                                  must provide a debug certificate.
*                            100 - Allowed + Open, any firmware can
*                                  directly access DAP control register.
*                          bit [3] - CM0+ debug AP is enabled
*                          bit [4] - device provisioned for non-production
*                                  (development) flow
* </pre></dd>
<dd>
The Implementation ID claim contains device specific data constructed from DIE_ID, DEVICE_ID_TO and DEVICE_ID_MPN fields: <pre class="fragment">*                          bytes [9:0]   - DIE_ID
*                          bytes [12:10] - DEVICE_ID_TO
*                          bytes [14:13] - DEVICE_ID_MPN
* </pre> </dd></dl>

</div>
</div>
<a id="gab096e7d2f266896930da3902bde2f5d7" name="gab096e7d2f266896930da3902bde2f5d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab096e7d2f266896930da3902bde2f5d7">&#9670;&nbsp;</a></span>ifx_se_initial_attest_get_token_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__fih.html#structifx__se__fih__uint">ifx_se_status_t</a> ifx_se_initial_attest_get_token_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__fih.html#ga3f01e5cacf10e2e35af27096b162037a">ifx_se_fih_t</a>&#160;</td>
          <td class="paramname"><em>challenge_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__fih.html#structifx__se__fih__ptr__t">ifx_se_fih_ptr_t</a>&#160;</td>
          <td class="paramname"><em>token_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets Initial Attestation Token maximal size to allocate token buffer. </p>
<p >Use this value to allocate space for ifx_se_initial_attest_get_token.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">challenge_size</td><td>The length of the challenge object (size_t). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">token_size</td><td>The pointer to the actual length of the attestation token (size_t). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>The pointer to the SE syscall context that contain a special syscall data (IPC release callback etc).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__syscall__errors.html#ga9369eb56a5688c73fd213d7b740f9a47">IFX_SE_SUCCESS</a> for success or error code </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>SE RT Services Utilities library</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
