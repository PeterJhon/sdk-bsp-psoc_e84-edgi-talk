{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    //
    // NOTE for JLink users:
    //
    //    Please create the following setting in your VSCode User Settings or in
    //    your global PATH.  Cortex-Debug needs to find the specific gdb-server
    //    you want to use.
    //
    //       Windows     : "cortex-debug.JLinkGDBServerPath": "<JLinkInstallDir>/JLinkGDBServerCL"
    //       Linux / Mac : "cortex-debug.JLinkGDBServerPath": "<JLinkInstallDir>/JLinkGDBServer"
    //
    //    User settings are located in:
    //
    //       Windows : %APPDATA%/Code/User/settings.json
    //       Mac     : $HOME/Library/Application Support/Code/User/settings.json
    //       Linux   : $HOME/.config/Code/User/settings.json
    //
    //    You can use the VSCode Settings UI to edit the files mentioned above.
    //
    //    For the JLink configurations in this file, the "device" name comes from
    //    the list found here:
    //       https://www.segger.com/downloads/supported-devices.php
    //
    //    To use KitProg3/MiniProg4 JTAG interface, update transport in openocd.tcl located at the
    //    project root - find "transport select [swd|jtag]" and specify the appropriate interface.
    //    To use JLink JTAG interface, update corresponding JLink configuration. Set "interface"
    //    property to "jtag" and delete the "_tm" suffix (if present) in the "device" property.
    //
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Multi-Core Debug (KitProg3_MiniProg4)",
            "type": "cortex-debug",
            "request": "attach",
            "cwd": "${workspaceFolder}",
            "executable": "&&_MTB_RECIPE__ELF_FILE_APPLICATION&&",
            "servertype": "openocd",
            "searchDir": [
                "${workspaceFolder}",
                "${config:modustoolbox.toolsPath}/&&_MTB_RECIPE__OPENOCD_SCRIPTS_DIR_RELATIVE&&/"
            ],
            "openOCDPreConfigLaunchCommands": [
                "set ENABLE_ACQUIRE 0"
            ],
            "configFiles": [
                "openocd.tcl"
            ],
            "openOCDLaunchCommands": [
                "adapter serial FEE1DEAD01237400" // Serial number of a probe that is connected to the CM33/CM55 debug port
            ],
            "overrideAttachCommands": [
                "set mem inaccessible-by-default off",
                "-enable-pretty-printing",
                "set remotetimeout 90",
                "info threads"
            ],
            // svdFile is optional, it can be very large.
            "svdFile": "&&_MTB_RECIPE__APPLICATION_SVD_FILE_NAME&&",
            "overrideRestartCommands": [
                "starti"
            ],
            "postRestartSessionCommands": [
            ],
            "numberOfProcessors": 2,
            "targetProcessor": &&_MTB_RECIPE__TARGET_PROCESSOR_NUMBER&&,
            "breakAfterReset": true,
            "runToEntryPoint": "main",    // Specifies application entry point name for restart/reset
            "showDevDebugOutput": "none",
            "presentation": {
                "hidden": false,
                "group": " Multi-core"
            },
            "chainedConfigurations": {
                "enabled": true,
                "waitOnEvent": "postInit",
                "lifecycleManagedByParent": true,
                "launches": [                               // Array of launches. Order is respected
                    {
                        "name": "Attach PSOCE84 CM55 (KitProg3_MiniProg4)",     // Name of another configuration
                        "folder": "./&&_MTB_RECIPE__SECOND_APP_NAME&&",
                        "overrides": {
                            "overrideRestartCommands": [
                                "monitor halt"
                            ]
                        }
                    }
                ]
            }
        },
        {
            "name": "Program Application (KitProg3_MiniProg4)",
            "type": "cortex-debug",
            "request": "launch",
            "cwd": "${workspaceFolder}",
            "executable": "&&_MTB_RECIPE__ELF_FILE_APPLICATION&&",
            "servertype": "openocd",
            "searchDir": [
                "${workspaceFolder}",
                "${config:modustoolbox.toolsPath}/&&_MTB_RECIPE__OPENOCD_SCRIPTS_DIR_RELATIVE&&/",
                "&&_MTB_RECIPE__QSPI_CFG_PATH_APPLICATION&&"
            ],
            "configFiles": [
                "openocd.tcl"
            ],
            "openOCDLaunchCommands": [
                "adapter serial FEE1DEAD01237400"
            ],
            "overrideLaunchCommands": [
                "set remotetimeout 90",
                "monitor program {&&_MTB_RECIPE__HEX_FILE_APPLICATION&&}",
                "monitor reset run",
                "monitor shutdown"
            ],
            "postStartSessionCommands": [
                "monitor poll off",
                "monitor cmsis-dap cmd 0x03",
                "quit"
            ],
            "numberOfProcessors": &&_MTB_RECIPE__PROCESSOR_COUNT&&,
            "preLaunchTask": "Build",
            "showDevDebugOutput": "none",
            "presentation": {
                "hidden": false,
                "group": " Multi-core"
            }
        },
        {
            "name": "Erase Device (KitProg3_MiniProg4)",
            "type": "cortex-debug",
            "request": "launch",
            "cwd": "${workspaceFolder}",
            "executable": "&&_MTB_RECIPE__ELF_FILE_APPLICATION&&",
            "servertype": "openocd",
            "searchDir": [
                "${workspaceFolder}",
                "${config:modustoolbox.toolsPath}/&&_MTB_RECIPE__OPENOCD_SCRIPTS_DIR_RELATIVE&&/"
            ],
            "configFiles": [
                "openocd.tcl"
            ],
            "openOCDLaunchCommands": [
                "adapter serial DEADBEEF01237400; init; reset init" // Serial number of a probe that is connected to the CM33 debug port
            ],
            "overrideLaunchCommands": [
                "set remotetimeout 90",
                "monitor flash erase_sector 0 0 last"
            ],
            "postStartSessionCommands": [
                "monitor poll off",
                "monitor cmsis-dap cmd 0x03",
                "quit"
            ],
            "numberOfProcessors": &&_MTB_RECIPE__PROCESSOR_COUNT&&,
            "showDevDebugOutput": "none",
            "presentation": {
                "hidden": false,
                "group": " Multi-core"
            }
        },
        {
            "name": "Erase All (KitProg3_MiniProg4)",
            "type": "cortex-debug",
            "request": "launch",
            "cwd": "${workspaceFolder}",
            "executable": "&&_MTB_RECIPE__ELF_FILE_APPLICATION&&",
            "servertype": "openocd",
            "searchDir": [
                "${workspaceFolder}",
                "${config:modustoolbox.toolsPath}/&&_MTB_RECIPE__OPENOCD_SCRIPTS_DIR_RELATIVE&&/",
                "&&_MTB_RECIPE__QSPI_CFG_PATH_APPLICATION&&"
            ],
            "configFiles": [
                "openocd.tcl"
            ],
            "openOCDLaunchCommands": [
                "adapter serial DEADBEEF01237400; init; reset init" // Serial number of a probe that is connected to the CM33 debug port
            ],
            "overrideLaunchCommands": [
                "set remotetimeout 90",
                "monitor flash erase_sector 0 0 last"
            ],
            "postStartSessionCommands": [
                "monitor poll off",
                "monitor cmsis-dap cmd 0x03",
                "quit"
            ],
            "numberOfProcessors": &&_MTB_RECIPE__PROCESSOR_COUNT&&,
            "showDevDebugOutput": "none",
            "presentation": {
                "hidden": false,
                "group": " Multi-core"
            }
        },
        {
            "name": "Start_Application_Through_CM0SEC PSOCE84 (KitProg3_MiniProg4)",
            "type": "cortex-debug",
            "request": "launch",
            "cwd": "${workspaceFolder}",
            "executable": "&&_MTB_RECIPE__ELF_FILE_APPLICATION&&",
            "servertype": "openocd",
            "searchDir": [
                "${workspaceFolder}",
                "&&_MTB_RECIPE__QSPI_CFG_PATH_APPLICATION&&"
            ],
            "configFiles": [
                "interface/kitprog3.cfg",
                "target/&&_MTB_RECIPE__OPENOCD_CM0_CFG&&"
            ],
            "openOCDLaunchCommands": [
                "adapter serial DEADBEEF01237400; init; reset init" // Serial number of a probe that is connected to the CM0SEC debug port
            ],
            "overrideLaunchCommands": [
                "set mem inaccessible-by-default off",
                "-enable-pretty-printing",
                "set remotetimeout 90",
                "monitor mdw 0x50100000 4",
                "monitor mww 0x522138F4 0x07",
                "monitor mww 0x52210020 0xF0000000",
                "monitor mww 0x52213004 0x0001",
                "monitor mww 0x52213008 0x8000",
                "monitor mww 0x50100000 0x000000db",
                "monitor mww 0x50100004 0x00000b70",
                "monitor mww 0x50100008 0",
                "monitor mww 0x5010000C 0",
                "monitor mww 0x52213004 0xC001",
                "monitor mdw 0x50100000 4",
                "monitor reset init",
                "monitor flash erase_address 0x13800000 0x40000",
                "monitor flash write_image erase &&_MTB_RECIPE__PREBUILT_SECURE_APP_APPLICATION&& 0x1201A400",
                "set {int}0x50002300 = 0x13800000",
                "set {int}0x50002308 = 0x13830000",
                "file &&_MTB_RECIPE__PREBUILT_CM0_IMAGE_APPLICATION&&",
                "load",
                "set {int}0x50002304 = 0x00030000",
                "detach"
            ],
            "postStartSessionCommands": [
                "monitor poll off",
                "monitor cmsis-dap cmd 0x03",
                "quit"
            ],
            "preLaunchTask": "Build",
            "showDevDebugOutput": "none",
            "presentation": {
                "hidden": false,
                "group": " Multi-core"
            }
        }
    ]
}
