<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hardware Abstraction Layer (HAL)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hardware Abstraction Layer (HAL)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__group__hal__dma.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">API Reference</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">DMA (Direct Memory Access)<div class="ingroups"><a class="el" href="group__group__hal.html">HAL Drivers</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<p >High level interface for interacting with the direct memory access (DMA). </p>
<p >The DMA driver allows for setting up the DMA object in order to trigger data transfers to and from memory and peripherals. The transfers occur independently of the CPU and can be triggered by software or hardware. Multiple channels can be active at the same time each with their own user-selectable priority and transfer characteristics.</p>
<h1><a class="anchor" id="section_dma_features"></a>
Features</h1>
<ul>
<li>CPU independent memory access</li>
<li>Access to memory and peripherals</li>
<li>Multiple independent channels</li>
<li>Configurable source and destination address</li>
<li>Configurable data transfer length</li>
<li>Event completion notification</li>
</ul>
<h1><a class="anchor" id="Usage"></a>
Flow</h1>
<p >The operational flow of the driver is listed below. This shows the basic order in which each of the functions would generally be called.</p><ol type="1">
<li>Initialize: Inititialize the DMA descriptor and channel</li>
<li>Setup: Set up the HAL DMA object with the pre-initialized DMA HW <a class="el" href="group__group__hal__dma.html#gaf0c27a248f3d97a8bf7f2f56a486dbe7">mtb_hal_dma_setup</a></li>
<li>Enable the DMA channel and the DMA HW</li>
<li>Configure and Enable the DMA interrupt</li>
<li>Configure: <a class="el" href="group__group__hal__dma.html#ga4d1c0aca2d52aac18118746d0aeb4302">mtb_hal_dma_set_src_addr</a>, <a class="el" href="group__group__hal__dma.html#ga99b72de5b32c77a95180b20285ee6d2c">mtb_hal_dma_set_dst_addr</a>, <a class="el" href="group__group__hal__dma.html#ga5de1d8ee122ed59ce7d8d67a43f8f703">mtb_hal_dma_set_length</a></li>
<li>Enable the event and callback: <a class="el" href="group__group__hal__dma.html#ga64ae0028cf0c97cc341aeba0fbb1af8a">mtb_hal_dma_register_callback</a>, <a class="el" href="group__group__hal__dma.html#gaf2a4ef0b900b75f16d4ca27366bb5ba2">mtb_hal_dma_enable_event</a></li>
</ol>
<dl class="section note"><dt>Note</dt><dd>In case of DMA being used by other peripheral drivers, initialize and set up the DMA before the peripheral driver is initialized and setup</dd></dl>
<h1><a class="anchor" id="section_dma_quickstart"></a>
Quick Start</h1>
<p >See <a class="el" href="group__group__hal__dma.html#subsection_dma_snippet_1">Snippet 1: Simple DMA initialization and transfer</a> for a code snippet that sets up a DMA transfer to move memory from one location to another.</p>
<h1><a class="anchor" id="section_dma_snippets"></a>
Code snippets</h1>
<dl class="section note"><dt>Note</dt><dd>Error handling code has been intentionally left out of snippets to highlight API usage.</dd></dl>
<h2><a class="anchor" id="subsection_dma_snippet_1"></a>
Snippet 1: Simple DMA initialization and transfer</h2>
<p >The following snippet initializes a DMA channel and uses it to transfer a a single block of memory. <a class="el" href="group__group__hal__dma.html#ga4d1c0aca2d52aac18118746d0aeb4302">mtb_hal_dma_set_src_addr</a>, <a class="el" href="group__group__hal__dma.html#ga99b72de5b32c77a95180b20285ee6d2c">mtb_hal_dma_set_dst_addr</a>, <a class="el" href="group__group__hal__dma.html#ga5de1d8ee122ed59ce7d8d67a43f8f703">mtb_hal_dma_set_length</a> can be used after DMA initialization to handle a variety of memory layouts.</p>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="comment">/* HAL DMA object */</span></div>
<div class="line"><a class="code hl_struct" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a>     dma_hal_obj;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> snippet_mtb_hal_dma_simple_init(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">    #define  BUFFER_SIZE   (32u)</span></div>
<div class="line">    <span class="comment">//Source Buffer</span></div>
<div class="line">    uint32_t src_buf[BUFFER_SIZE];</div>
<div class="line">    <span class="comment">//Destination Buffer</span></div>
<div class="line">    uint32_t dst_buf[BUFFER_SIZE];</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedef" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>          rslt;</div>
<div class="line">    cy_en_dma_status_t status;</div>
<div class="line">    uint32_t src_addr = (uint32_t)src_buf;</div>
<div class="line">    uint32_t dst_addr = (uint32_t)dst_buf;</div>
<div class="line">    uint32_t length = <span class="keyword">sizeof</span>(src_buf);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Setting up the descriptor and the channel */</span></div>
<div class="line">    status = Cy_DMA_Descriptor_Init(&amp;dma_Descriptor_0, &amp;dma_Descriptor_0_config);</div>
<div class="line">    status =  Cy_DMA_Channel_Init(dma_HW, dma_CHANNEL, &amp;dma_channelConfig);</div>
<div class="line">    Cy_DMA_Channel_SetInterruptMask(dma_HW, dma_CHANNEL, CY_DMA_INTR_MASK);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Set up the HAL DMA object */</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__dma.html#gaf0c27a248f3d97a8bf7f2f56a486dbe7">mtb_hal_dma_setup</a>(&amp;dma_hal_obj, &amp;dma_hal_config);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Enable channel and DMA block to start descriptor execution process */</span></div>
<div class="line">    Cy_DMA_Channel_Enable(dma_HW, dma_CHANNEL);</div>
<div class="line">    Cy_DMA_Enable(dma_HW);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Configure the source for the upcoming transfer */</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__dma.html#ga4d1c0aca2d52aac18118746d0aeb4302">mtb_hal_dma_set_src_addr</a>(&amp;dma_hal_obj, src_addr);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Configure the destination for the upcoming transfer */</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__dma.html#ga99b72de5b32c77a95180b20285ee6d2c">mtb_hal_dma_set_dst_addr</a>(&amp;dma_hal_obj, dst_addr);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Configure the length for the upcoming transfer */</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__dma.html#ga5de1d8ee122ed59ce7d8d67a43f8f703">mtb_hal_dma_set_length</a>(&amp;dma_hal_obj, length);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Begin the transfer */</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__dma.html#ga8647c4bd35e8aefe1160dfc9e4641702">mtb_hal_dma_start_transfer</a>(&amp;dma_hal_obj);</div>
<div class="line"> </div>
<div class="line">    (void)rslt;</div>
<div class="line">    (void)status;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="ttc" id="agroup__group__hal__dma_html_ga4d1c0aca2d52aac18118746d0aeb4302"><div class="ttname"><a href="group__group__hal__dma.html#ga4d1c0aca2d52aac18118746d0aeb4302">mtb_hal_dma_set_src_addr</a></div><div class="ttdeci">cy_rslt_t mtb_hal_dma_set_src_addr(mtb_hal_dma_t *obj, uint32_t src_addr)</div><div class="ttdoc">Set the source address for the DMA transfer.</div></div>
<div class="ttc" id="agroup__group__hal__dma_html_ga5de1d8ee122ed59ce7d8d67a43f8f703"><div class="ttname"><a href="group__group__hal__dma.html#ga5de1d8ee122ed59ce7d8d67a43f8f703">mtb_hal_dma_set_length</a></div><div class="ttdeci">cy_rslt_t mtb_hal_dma_set_length(mtb_hal_dma_t *obj, uint32_t length)</div><div class="ttdoc">Set the length for the DMA transfer.</div></div>
<div class="ttc" id="agroup__group__hal__dma_html_ga8647c4bd35e8aefe1160dfc9e4641702"><div class="ttname"><a href="group__group__hal__dma.html#ga8647c4bd35e8aefe1160dfc9e4641702">mtb_hal_dma_start_transfer</a></div><div class="ttdeci">cy_rslt_t mtb_hal_dma_start_transfer(mtb_hal_dma_t *obj)</div><div class="ttdoc">Initiates DMA channel transfer for specified DMA object.</div></div>
<div class="ttc" id="agroup__group__hal__dma_html_ga99b72de5b32c77a95180b20285ee6d2c"><div class="ttname"><a href="group__group__hal__dma.html#ga99b72de5b32c77a95180b20285ee6d2c">mtb_hal_dma_set_dst_addr</a></div><div class="ttdeci">cy_rslt_t mtb_hal_dma_set_dst_addr(mtb_hal_dma_t *obj, uint32_t dst_addr)</div><div class="ttdoc">Set the destination address for the DMA transfer.</div></div>
<div class="ttc" id="agroup__group__hal__dma_html_gaf0c27a248f3d97a8bf7f2f56a486dbe7"><div class="ttname"><a href="group__group__hal__dma.html#gaf0c27a248f3d97a8bf7f2f56a486dbe7">mtb_hal_dma_setup</a></div><div class="ttdeci">cy_rslt_t mtb_hal_dma_setup(mtb_hal_dma_t *obj, const mtb_hal_dma_configurator_t *config)</div><div class="ttdoc">Sets up a HAL instance to use the specified hardware resource.</div></div>
<div class="ttc" id="agroup__group__hal__impl__hw__types_html_structmtb__hal__dma__t"><div class="ttname"><a href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a></div><div class="ttdoc">DMA object.</div><div class="ttdef"><b>Definition:</b> mtb_hal_hw_types_dma.h:94</div></div>
<div class="ttc" id="agroup__group__result_html_gaca79700fcc701534ce61778a9bcf57d1"><div class="ttname"><a href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a></div><div class="ttdeci">uint32_t cy_rslt_t</div><div class="ttdoc">Provides the result of an operation as a structured bitfield.</div><div class="ttdef"><b>Definition:</b> cy_result.h:479</div></div>
</div><!-- fragment --><h2><a class="anchor" id="subsection_dma_snippet_2"></a>
Snippet 2: Interrupts and triggering DMA transfers</h2>
<p >DMA events like transfer complete or error events can be used to trigger a callback function. <br  />
 This snippet uses <a class="el" href="group__group__hal__dma.html#gaf2a4ef0b900b75f16d4ca27366bb5ba2">mtb_hal_dma_enable_event()</a> to enable the transfer complete event to trigger the callback function registered by <a class="el" href="group__group__hal__dma.html#ga64ae0028cf0c97cc341aeba0fbb1af8a">mtb_hal_dma_register_callback()</a>.</p>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="comment">/* HAL DMA object */</span></div>
<div class="line"><a class="code hl_struct" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a>     dma_obj;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> dma_interrupt_handler(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_function" href="group__group__hal__dma.html#gaa77f80c7ee89fc06eca4b9c0ed2aba87">mtb_hal_dma_process_interrupt</a>(&amp;dma_obj);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> dma_event_callback(<span class="keywordtype">void</span>* callback_arg, <a class="code hl_enumeration" href="group__group__hal__dma.html#ga1e97abc7cb9e59f78fc9a139837e9478">mtb_hal_dma_event_t</a> event)</div>
<div class="line">{</div>
<div class="line">    CY_UNUSED_PARAMETER(callback_arg);</div>
<div class="line">    CY_UNUSED_PARAMETER(event);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> snippet_mtb_hal_dma_events(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">     #define  BUFFER_SIZE   (32u)</span></div>
<div class="line"><span class="preprocessor">     #define PERIPHERAL_FIFO_ADDR (0x4001000)</span></div>
<div class="line">    <span class="comment">//Source Buffer</span></div>
<div class="line">    uint32_t src_buf[BUFFER_SIZE];</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedef" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>          rslt;</div>
<div class="line">    cy_en_dma_status_t status;</div>
<div class="line">    cy_stc_sysint_t    dma_int_cfg =</div>
<div class="line">    {</div>
<div class="line"><span class="preprocessor">        #if defined (CY_IP_M7CPUSS)</span></div>
<div class="line">        .intrSrc      =  _mtb_hal_get_intSrc(dma_IRQ),</div>
<div class="line"><span class="preprocessor">        #else</span></div>
<div class="line">        .intrSrc      = (IRQn_Type)_mtb_hal_get_intSrc(dma_IRQ),</div>
<div class="line"><span class="preprocessor">        #endif</span></div>
<div class="line">        .intrPriority = 3u,</div>
<div class="line">    };</div>
<div class="line">    uint32_t src_addr = (uint32_t)src_buf;</div>
<div class="line">    uint32_t dst_addr = (uint32_t)PERIPHERAL_FIFO_ADDR;</div>
<div class="line">    uint32_t length = <span class="keyword">sizeof</span>(src_buf);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Setting up the descriptor and the channel */</span></div>
<div class="line">    status = Cy_DMA_Descriptor_Init(&amp;dma_Descriptor_0, &amp;dma_Descriptor_0_config);</div>
<div class="line">    status =  Cy_DMA_Channel_Init(dma_HW, dma_CHANNEL, &amp;dma_channelConfig);</div>
<div class="line">    Cy_DMA_Channel_SetInterruptMask(dma_HW, dma_CHANNEL, CY_DMA_INTR_MASK);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Set up the HAL DMA object */</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__dma.html#gaf0c27a248f3d97a8bf7f2f56a486dbe7">mtb_hal_dma_setup</a>(&amp;dma_obj, &amp;dma_hal_config);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Enable channel and DMA block to start descriptor execution process */</span></div>
<div class="line">    Cy_DMA_Channel_Enable(dma_HW, dma_CHANNEL);</div>
<div class="line">    Cy_DMA_Enable(dma_HW);</div>
<div class="line"> </div>
<div class="line">    Cy_SysInt_Init(&amp;dma_int_cfg, dma_interrupt_handler);</div>
<div class="line">    NVIC_EnableIRQ((IRQn_Type)_mtb_hal_get_intVec(dma_IRQ));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Configure the source for the upcoming transfer */</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__dma.html#ga4d1c0aca2d52aac18118746d0aeb4302">mtb_hal_dma_set_src_addr</a>(&amp;dma_obj, src_addr);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Configure the destination for the upcoming transfer */</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__dma.html#ga99b72de5b32c77a95180b20285ee6d2c">mtb_hal_dma_set_dst_addr</a>(&amp;dma_obj, dst_addr);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Configure the length for the upcoming transfer */</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__dma.html#ga5de1d8ee122ed59ce7d8d67a43f8f703">mtb_hal_dma_set_length</a>(&amp;dma_obj, length);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Register an event callback handler and enable events</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_define" href="group__group__result.html#gaf58fac450d9fff4472f03ad68f6e546e">CY_RSLT_SUCCESS</a> == rslt)</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_function" href="group__group__hal__dma.html#ga64ae0028cf0c97cc341aeba0fbb1af8a">mtb_hal_dma_register_callback</a>(&amp;dma_obj, &amp;dma_event_callback, &amp;dma_obj);</div>
<div class="line">        <a class="code hl_function" href="group__group__hal__dma.html#gaf2a4ef0b900b75f16d4ca27366bb5ba2">mtb_hal_dma_enable_event</a>(&amp;dma_obj, <a class="code hl_enumvalue" href="group__group__hal__dma.html#gga1e97abc7cb9e59f78fc9a139837e9478af14450e01f457b6dc8857d15bce056c9">MTB_HAL_DMA_TRANSFER_COMPLETE</a>, <span class="keyword">true</span>);</div>
<div class="line">    }</div>
<div class="line">    (void)status;</div>
<div class="line">    <span class="keywordflow">return</span> rslt;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="ttc" id="agroup__group__hal__dma_html_ga1e97abc7cb9e59f78fc9a139837e9478"><div class="ttname"><a href="group__group__hal__dma.html#ga1e97abc7cb9e59f78fc9a139837e9478">mtb_hal_dma_event_t</a></div><div class="ttdeci">mtb_hal_dma_event_t</div><div class="ttdoc">Flags enum of DMA events.</div><div class="ttdef"><b>Definition:</b> mtb_hal_dma.h:151</div></div>
<div class="ttc" id="agroup__group__hal__dma_html_ga64ae0028cf0c97cc341aeba0fbb1af8a"><div class="ttname"><a href="group__group__hal__dma.html#ga64ae0028cf0c97cc341aeba0fbb1af8a">mtb_hal_dma_register_callback</a></div><div class="ttdeci">void mtb_hal_dma_register_callback(mtb_hal_dma_t *obj, mtb_hal_dma_event_callback_t callback, void *callback_arg)</div><div class="ttdoc">Register a DMA callback handler.</div></div>
<div class="ttc" id="agroup__group__hal__dma_html_gaa77f80c7ee89fc06eca4b9c0ed2aba87"><div class="ttname"><a href="group__group__hal__dma.html#gaa77f80c7ee89fc06eca4b9c0ed2aba87">mtb_hal_dma_process_interrupt</a></div><div class="ttdeci">cy_rslt_t mtb_hal_dma_process_interrupt(mtb_hal_dma_t *obj)</div><div class="ttdoc">Process interrupts related related to a DMA instance.</div></div>
<div class="ttc" id="agroup__group__hal__dma_html_gaf2a4ef0b900b75f16d4ca27366bb5ba2"><div class="ttname"><a href="group__group__hal__dma.html#gaf2a4ef0b900b75f16d4ca27366bb5ba2">mtb_hal_dma_enable_event</a></div><div class="ttdeci">void mtb_hal_dma_enable_event(mtb_hal_dma_t *obj, mtb_hal_dma_event_t event, bool enable)</div><div class="ttdoc">Configure DMA event enablement.</div></div>
<div class="ttc" id="agroup__group__hal__dma_html_gga1e97abc7cb9e59f78fc9a139837e9478af14450e01f457b6dc8857d15bce056c9"><div class="ttname"><a href="group__group__hal__dma.html#gga1e97abc7cb9e59f78fc9a139837e9478af14450e01f457b6dc8857d15bce056c9">MTB_HAL_DMA_TRANSFER_COMPLETE</a></div><div class="ttdeci">@ MTB_HAL_DMA_TRANSFER_COMPLETE</div><div class="ttdoc">Indicates that an individual transfer (burst or full) has completed based on the dma hardware configu...</div><div class="ttdef"><b>Definition:</b> mtb_hal_dma.h:153</div></div>
<div class="ttc" id="agroup__group__result_html_gaf58fac450d9fff4472f03ad68f6e546e"><div class="ttname"><a href="group__group__result.html#gaf58fac450d9fff4472f03ad68f6e546e">CY_RSLT_SUCCESS</a></div><div class="ttdeci">#define CY_RSLT_SUCCESS</div><div class="ttdoc">cy_rslt_t return value indicating success</div><div class="ttdef"><b>Definition:</b> cy_result.h:506</div></div>
</div><!-- fragment --><h2><a class="anchor" id="subsection_dma_snippet_3"></a>
Snippet 3: DMA transfers with D-cache</h2>
<p >If CPU D-cache is enabled, DMA transfers must be handled using cache management API when dealing with cacheable memory in order to maintain CPU data cache coherency. Regarding the CPU data cache coherence with DMA, the general rules are, <br  />
</p><ul>
<li>Source and destination buffers must be cacheline aligned (__SCB_DCACHE_LINE_SIZE) <br  />
</li>
<li>D-cache of DMA descriptor and D-cahe of source's buffers must be cleaned before a DMA transfer <br  />
</li>
<li>D-cache of destination buffer must be invalidated after a DMA transfer <br  />
</li>
</ul>
<p >The following snippet initializes a DMA channel and uses it to transfer a single block from one cacheable memory to another cacheable memory. Cleaning D-cache of DMA descriptor is done by calling <a class="el" href="group__group__hal__dma.html#ga4d1c0aca2d52aac18118746d0aeb4302">mtb_hal_dma_set_src_addr</a>, <a class="el" href="group__group__hal__dma.html#ga99b72de5b32c77a95180b20285ee6d2c">mtb_hal_dma_set_dst_addr</a>, <a class="el" href="group__group__hal__dma.html#ga5de1d8ee122ed59ce7d8d67a43f8f703">mtb_hal_dma_set_length</a> and <a class="el" href="group__group__hal__dma.html#gaf0c27a248f3d97a8bf7f2f56a486dbe7">mtb_hal_dma_setup</a>. Cleaning D-cache of source's buffer and Invalidating D-cahe of destination's buffer should be done explicitly.</p>
<p >Refer to <a class="el" href="md_asset_dcache.html#DCACHE_Management">DCACHE_Management</a> for more information.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define BUF_SIZE (32) </span><span class="comment">/* multiple of cache line size */</span><span class="preprocessor"></span></div>
<div class="line">CY_ALIGN(__SCB_DCACHE_LINE_SIZE) uint8_t tx_buffer[BUF_SIZE];</div>
<div class="line">CY_ALIGN(__SCB_DCACHE_LINE_SIZE) uint8_t rx_buffer[BUF_SIZE]; <span class="comment">/* Memory address should be</span></div>
<div class="line"><span class="comment">                                                                         cacheline-aligned */</span></div>
<div class="line"><span class="keywordtype">void</span> snippet_mtb_hal_dma_with_dcache(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_typedef" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>          rslt;</div>
<div class="line">    cy_en_dma_status_t status;</div>
<div class="line">    uint32_t src_addr = (uint32_t)tx_buffer;</div>
<div class="line">    uint32_t dst_addr = (uint32_t)rx_buffer;</div>
<div class="line">    uint32_t length = <span class="keyword">sizeof</span>(tx_buffer);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Setting up the descriptor and the channel */</span></div>
<div class="line">    status = Cy_DMA_Descriptor_Init(&amp;dma_Descriptor_0, &amp;dma_Descriptor_0_config);</div>
<div class="line">    status =  Cy_DMA_Channel_Init(dma_HW, dma_CHANNEL, &amp;dma_channelConfig);</div>
<div class="line">    Cy_DMA_Channel_SetInterruptMask(dma_HW, dma_CHANNEL, CY_DMA_INTR_MASK);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Set up the HAL DMA object */</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__dma.html#gaf0c27a248f3d97a8bf7f2f56a486dbe7">mtb_hal_dma_setup</a>(&amp;dma_hal_obj, &amp;dma_hal_config);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Before enabling DMA channel, clean dcahe of tx_buffer. */</span></div>
<div class="line">    SCB_CleanDCache_by_Addr((<span class="keywordtype">void</span>*)tx_buffer, BUF_SIZE);</div>
<div class="line">    SCB_CleanDCache_by_Addr((<span class="keywordtype">void</span>*)rx_buffer, BUF_SIZE);  <span class="comment">/* This maybe ptional. */</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Enable channel and DMA block to start descriptor execution process */</span></div>
<div class="line">    Cy_DMA_Channel_Enable(dma_HW, dma_CHANNEL);</div>
<div class="line">    Cy_DMA_Enable(dma_HW);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Configure the source for the upcoming transfer */</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__dma.html#ga4d1c0aca2d52aac18118746d0aeb4302">mtb_hal_dma_set_src_addr</a>(&amp;dma_hal_obj, src_addr);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Configure the destination for the upcoming transfer */</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__dma.html#ga99b72de5b32c77a95180b20285ee6d2c">mtb_hal_dma_set_dst_addr</a>(&amp;dma_hal_obj, dst_addr);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Configure the length for the upcoming transfer */</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__dma.html#ga5de1d8ee122ed59ce7d8d67a43f8f703">mtb_hal_dma_set_length</a>(&amp;dma_hal_obj, length);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Begin the transfer */</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__dma.html#ga8647c4bd35e8aefe1160dfc9e4641702">mtb_hal_dma_start_transfer</a>(&amp;dma_hal_obj);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Before reading rx_buffer, invalidate dcache of rx_buffer. */</span></div>
<div class="line">    SCB_InvalidateDCache_by_Addr((<span class="keywordtype">void</span>*)rx_buffer, BUFFER_SIZE * <span class="keyword">sizeof</span>(uint32_t));</div>
</div><!-- fragment --> <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
API Reference</h2></td></tr>
<tr class="memitem:group__group__hal__results__dma"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__results__dma.html">DMA HAL Results</a></td></tr>
<tr class="memdesc:group__group__hal__results__dma"><td class="mdescLeft">&#160;</td><td class="mdescRight">DMA specific return codes. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga214f55a18f802fe57d0a44152958aef8"><td class="memItemLeft" align="right" valign="top"><a id="ga214f55a18f802fe57d0a44152958aef8" name="ga214f55a18f802fe57d0a44152958aef8"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>mtb_hal_dma_event_callback_t</b>) (void *callback_arg, <a class="el" href="group__group__hal__dma.html#ga1e97abc7cb9e59f78fc9a139837e9478">mtb_hal_dma_event_t</a> event)</td></tr>
<tr class="memdesc:ga214f55a18f802fe57d0a44152958aef8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event handler for DMA interrupts. <br /></td></tr>
<tr class="separator:ga214f55a18f802fe57d0a44152958aef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga1e97abc7cb9e59f78fc9a139837e9478"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__dma.html#ga1e97abc7cb9e59f78fc9a139837e9478">mtb_hal_dma_event_t</a> { <br />
&#160;&#160;<a class="el" href="group__group__hal__dma.html#gga1e97abc7cb9e59f78fc9a139837e9478a1fd9d5d243abcfb1fca9eaba19d57ce4">MTB_HAL_DMA_NO_INTR</a> = 0
, <br />
&#160;&#160;<a class="el" href="group__group__hal__dma.html#gga1e97abc7cb9e59f78fc9a139837e9478af14450e01f457b6dc8857d15bce056c9">MTB_HAL_DMA_TRANSFER_COMPLETE</a> = 1 &lt;&lt; 0
, <br />
&#160;&#160;<a class="el" href="group__group__hal__dma.html#gga1e97abc7cb9e59f78fc9a139837e9478a3281d672af0f0b55aeeaf8eb39f95b0e">MTB_HAL_DMA_DESCRIPTOR_COMPLETE</a> = 1 &lt;&lt; 1
, <br />
&#160;&#160;<a class="el" href="group__group__hal__dma.html#gga1e97abc7cb9e59f78fc9a139837e9478a55aa6d28683eb3aaa9109604b7aa3f42">MTB_HAL_DMA_SRC_BUS_ERROR</a> = 1 &lt;&lt; 2
, <br />
&#160;&#160;<a class="el" href="group__group__hal__dma.html#gga1e97abc7cb9e59f78fc9a139837e9478a828ba4ad29644f33c779e883a48b2d36">MTB_HAL_DMA_DST_BUS_ERROR</a> = 1 &lt;&lt; 3
, <br />
&#160;&#160;<a class="el" href="group__group__hal__dma.html#gga1e97abc7cb9e59f78fc9a139837e9478abbecc3dfb65305b9065e64cc2f57a3dd">MTB_HAL_DMA_SRC_MISAL</a> = 1 &lt;&lt; 4
, <br />
&#160;&#160;<a class="el" href="group__group__hal__dma.html#gga1e97abc7cb9e59f78fc9a139837e9478a5b4c3630150382e5c4c38d85406c2ee5">MTB_HAL_DMA_DST_MISAL</a> = 1 &lt;&lt; 5
, <br />
&#160;&#160;<a class="el" href="group__group__hal__dma.html#gga1e97abc7cb9e59f78fc9a139837e9478a5cff95d9f1b972cac444784a76f9e71e">MTB_HAL_DMA_CURR_PTR_NULL</a> = 1 &lt;&lt; 6
, <br />
&#160;&#160;<a class="el" href="group__group__hal__dma.html#gga1e97abc7cb9e59f78fc9a139837e9478ae3c6529e528cf330436e140f918caaaf">MTB_HAL_DMA_ACTIVE_CH_DISABLED</a> = 1 &lt;&lt; 7
, <br />
&#160;&#160;<a class="el" href="group__group__hal__dma.html#gga1e97abc7cb9e59f78fc9a139837e9478addc8ba50784ad14fd227db99484e8eb6">MTB_HAL_DMA_DESCR_BUS_ERROR</a> = 1 &lt;&lt; 8
, <br />
&#160;&#160;<a class="el" href="group__group__hal__dma.html#gga1e97abc7cb9e59f78fc9a139837e9478aabe18828f70d3090aa58eb45396cb960">MTB_HAL_DMA_GENERIC_ERROR</a> = 1 &lt;&lt; 9
<br />
 }</td></tr>
<tr class="memdesc:ga1e97abc7cb9e59f78fc9a139837e9478"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags enum of DMA events.  <a href="group__group__hal__dma.html#ga1e97abc7cb9e59f78fc9a139837e9478">More...</a><br /></td></tr>
<tr class="separator:ga1e97abc7cb9e59f78fc9a139837e9478"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf0c27a248f3d97a8bf7f2f56a486dbe7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__dma.html#gaf0c27a248f3d97a8bf7f2f56a486dbe7">mtb_hal_dma_setup</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *obj, const <a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__configurator__t">mtb_hal_dma_configurator_t</a> *config)</td></tr>
<tr class="memdesc:gaf0c27a248f3d97a8bf7f2f56a486dbe7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up a HAL instance to use the specified hardware resource.  <a href="group__group__hal__dma.html#gaf0c27a248f3d97a8bf7f2f56a486dbe7">More...</a><br /></td></tr>
<tr class="separator:gaf0c27a248f3d97a8bf7f2f56a486dbe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d1c0aca2d52aac18118746d0aeb4302"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__dma.html#ga4d1c0aca2d52aac18118746d0aeb4302">mtb_hal_dma_set_src_addr</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *obj, uint32_t src_addr)</td></tr>
<tr class="memdesc:ga4d1c0aca2d52aac18118746d0aeb4302"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the source address for the DMA transfer.  <a href="group__group__hal__dma.html#ga4d1c0aca2d52aac18118746d0aeb4302">More...</a><br /></td></tr>
<tr class="separator:ga4d1c0aca2d52aac18118746d0aeb4302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga99b72de5b32c77a95180b20285ee6d2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__dma.html#ga99b72de5b32c77a95180b20285ee6d2c">mtb_hal_dma_set_dst_addr</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *obj, uint32_t dst_addr)</td></tr>
<tr class="memdesc:ga99b72de5b32c77a95180b20285ee6d2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the destination address for the DMA transfer.  <a href="group__group__hal__dma.html#ga99b72de5b32c77a95180b20285ee6d2c">More...</a><br /></td></tr>
<tr class="separator:ga99b72de5b32c77a95180b20285ee6d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5de1d8ee122ed59ce7d8d67a43f8f703"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__dma.html#ga5de1d8ee122ed59ce7d8d67a43f8f703">mtb_hal_dma_set_length</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *obj, uint32_t length)</td></tr>
<tr class="memdesc:ga5de1d8ee122ed59ce7d8d67a43f8f703"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the length for the DMA transfer.  <a href="group__group__hal__dma.html#ga5de1d8ee122ed59ce7d8d67a43f8f703">More...</a><br /></td></tr>
<tr class="separator:ga5de1d8ee122ed59ce7d8d67a43f8f703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21cf52f100147f508126841b5749b984"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__dma.html#ga21cf52f100147f508126841b5749b984">mtb_hal_dma_enable</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *obj)</td></tr>
<tr class="memdesc:ga21cf52f100147f508126841b5749b984"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable the DMA transfer so that it can start transferring data when triggered.  <a href="group__group__hal__dma.html#ga21cf52f100147f508126841b5749b984">More...</a><br /></td></tr>
<tr class="separator:ga21cf52f100147f508126841b5749b984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafdf25fa78e196a21343df8bbf1398124"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__dma.html#gafdf25fa78e196a21343df8bbf1398124">mtb_hal_dma_disable</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *obj)</td></tr>
<tr class="memdesc:gafdf25fa78e196a21343df8bbf1398124"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable the DMA transfer so that it does not continue to trigger.  <a href="group__group__hal__dma.html#gafdf25fa78e196a21343df8bbf1398124">More...</a><br /></td></tr>
<tr class="separator:gafdf25fa78e196a21343df8bbf1398124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8647c4bd35e8aefe1160dfc9e4641702"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__dma.html#ga8647c4bd35e8aefe1160dfc9e4641702">mtb_hal_dma_start_transfer</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *obj)</td></tr>
<tr class="memdesc:ga8647c4bd35e8aefe1160dfc9e4641702"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiates DMA channel transfer for specified DMA object.  <a href="group__group__hal__dma.html#ga8647c4bd35e8aefe1160dfc9e4641702">More...</a><br /></td></tr>
<tr class="separator:ga8647c4bd35e8aefe1160dfc9e4641702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c41b6cc1feb1a91c6f7106c49ec95fe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__dma.html#ga6c41b6cc1feb1a91c6f7106c49ec95fe">mtb_hal_dma_is_busy</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *obj)</td></tr>
<tr class="memdesc:ga6c41b6cc1feb1a91c6f7106c49ec95fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the transfer has been triggered, but not yet complete (eg: is pending, blocked or running)  <a href="group__group__hal__dma.html#ga6c41b6cc1feb1a91c6f7106c49ec95fe">More...</a><br /></td></tr>
<tr class="separator:ga6c41b6cc1feb1a91c6f7106c49ec95fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa77f80c7ee89fc06eca4b9c0ed2aba87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__dma.html#gaa77f80c7ee89fc06eca4b9c0ed2aba87">mtb_hal_dma_process_interrupt</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *obj)</td></tr>
<tr class="memdesc:gaa77f80c7ee89fc06eca4b9c0ed2aba87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process interrupts related related to a DMA instance.  <a href="group__group__hal__dma.html#gaa77f80c7ee89fc06eca4b9c0ed2aba87">More...</a><br /></td></tr>
<tr class="separator:gaa77f80c7ee89fc06eca4b9c0ed2aba87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga64ae0028cf0c97cc341aeba0fbb1af8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__dma.html#ga64ae0028cf0c97cc341aeba0fbb1af8a">mtb_hal_dma_register_callback</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *obj, <a class="el" href="group__group__hal__dma.html#ga214f55a18f802fe57d0a44152958aef8">mtb_hal_dma_event_callback_t</a> callback, void *callback_arg)</td></tr>
<tr class="memdesc:ga64ae0028cf0c97cc341aeba0fbb1af8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a DMA callback handler.  <a href="group__group__hal__dma.html#ga64ae0028cf0c97cc341aeba0fbb1af8a">More...</a><br /></td></tr>
<tr class="separator:ga64ae0028cf0c97cc341aeba0fbb1af8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2a4ef0b900b75f16d4ca27366bb5ba2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__dma.html#gaf2a4ef0b900b75f16d4ca27366bb5ba2">mtb_hal_dma_enable_event</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *obj, <a class="el" href="group__group__hal__dma.html#ga1e97abc7cb9e59f78fc9a139837e9478">mtb_hal_dma_event_t</a> event, bool enable)</td></tr>
<tr class="memdesc:gaf2a4ef0b900b75f16d4ca27366bb5ba2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure DMA event enablement.  <a href="group__group__hal__dma.html#gaf2a4ef0b900b75f16d4ca27366bb5ba2">More...</a><br /></td></tr>
<tr class="separator:gaf2a4ef0b900b75f16d4ca27366bb5ba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d0b15ac07b80223a33f2d8a983093c3"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__dma.html#ga4d0b15ac07b80223a33f2d8a983093c3">mtb_hal_dma_get_max_elements_per_burst</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *obj)</td></tr>
<tr class="memdesc:ga4d0b15ac07b80223a33f2d8a983093c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max number of elements, that can be transferred by one burst.  <a href="group__group__hal__dma.html#ga4d0b15ac07b80223a33f2d8a983093c3">More...</a><br /></td></tr>
<tr class="separator:ga4d0b15ac07b80223a33f2d8a983093c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga1e97abc7cb9e59f78fc9a139837e9478" name="ga1e97abc7cb9e59f78fc9a139837e9478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1e97abc7cb9e59f78fc9a139837e9478">&#9670;&nbsp;</a></span>mtb_hal_dma_event_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__group__hal__dma.html#ga1e97abc7cb9e59f78fc9a139837e9478">mtb_hal_dma_event_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flags enum of DMA events. </p>
<p >Multiple events can be enabled via <a class="el" href="group__group__hal__dma.html#gaf2a4ef0b900b75f16d4ca27366bb5ba2">mtb_hal_dma_enable_event</a> and the callback from <a class="el" href="group__group__hal__dma.html#ga64ae0028cf0c97cc341aeba0fbb1af8a">mtb_hal_dma_register_callback</a> will be run to notify. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga1e97abc7cb9e59f78fc9a139837e9478a1fd9d5d243abcfb1fca9eaba19d57ce4" name="gga1e97abc7cb9e59f78fc9a139837e9478a1fd9d5d243abcfb1fca9eaba19d57ce4"></a>MTB_HAL_DMA_NO_INTR&#160;</td><td class="fielddoc"><p >No interrupt. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1e97abc7cb9e59f78fc9a139837e9478af14450e01f457b6dc8857d15bce056c9" name="gga1e97abc7cb9e59f78fc9a139837e9478af14450e01f457b6dc8857d15bce056c9"></a>MTB_HAL_DMA_TRANSFER_COMPLETE&#160;</td><td class="fielddoc"><p >Indicates that an individual transfer (burst or full) has completed based on the dma hardware configuration. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1e97abc7cb9e59f78fc9a139837e9478a3281d672af0f0b55aeeaf8eb39f95b0e" name="gga1e97abc7cb9e59f78fc9a139837e9478a3281d672af0f0b55aeeaf8eb39f95b0e"></a>MTB_HAL_DMA_DESCRIPTOR_COMPLETE&#160;</td><td class="fielddoc"><p >Indicates that the full transfer has completed. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1e97abc7cb9e59f78fc9a139837e9478a55aa6d28683eb3aaa9109604b7aa3f42" name="gga1e97abc7cb9e59f78fc9a139837e9478a55aa6d28683eb3aaa9109604b7aa3f42"></a>MTB_HAL_DMA_SRC_BUS_ERROR&#160;</td><td class="fielddoc"><p >Indicates that there is a source bus error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1e97abc7cb9e59f78fc9a139837e9478a828ba4ad29644f33c779e883a48b2d36" name="gga1e97abc7cb9e59f78fc9a139837e9478a828ba4ad29644f33c779e883a48b2d36"></a>MTB_HAL_DMA_DST_BUS_ERROR&#160;</td><td class="fielddoc"><p >Indicates that there is a destination bus error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1e97abc7cb9e59f78fc9a139837e9478abbecc3dfb65305b9065e64cc2f57a3dd" name="gga1e97abc7cb9e59f78fc9a139837e9478abbecc3dfb65305b9065e64cc2f57a3dd"></a>MTB_HAL_DMA_SRC_MISAL&#160;</td><td class="fielddoc"><p >Indicates that the source address is not aligned. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1e97abc7cb9e59f78fc9a139837e9478a5b4c3630150382e5c4c38d85406c2ee5" name="gga1e97abc7cb9e59f78fc9a139837e9478a5b4c3630150382e5c4c38d85406c2ee5"></a>MTB_HAL_DMA_DST_MISAL&#160;</td><td class="fielddoc"><p >Indicates that the destination address is not aligned. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1e97abc7cb9e59f78fc9a139837e9478a5cff95d9f1b972cac444784a76f9e71e" name="gga1e97abc7cb9e59f78fc9a139837e9478a5cff95d9f1b972cac444784a76f9e71e"></a>MTB_HAL_DMA_CURR_PTR_NULL&#160;</td><td class="fielddoc"><p >Indicates that the current descriptor pointer is null. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1e97abc7cb9e59f78fc9a139837e9478ae3c6529e528cf330436e140f918caaaf" name="gga1e97abc7cb9e59f78fc9a139837e9478ae3c6529e528cf330436e140f918caaaf"></a>MTB_HAL_DMA_ACTIVE_CH_DISABLED&#160;</td><td class="fielddoc"><p >Indicates that the active channel is disabled. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1e97abc7cb9e59f78fc9a139837e9478addc8ba50784ad14fd227db99484e8eb6" name="gga1e97abc7cb9e59f78fc9a139837e9478addc8ba50784ad14fd227db99484e8eb6"></a>MTB_HAL_DMA_DESCR_BUS_ERROR&#160;</td><td class="fielddoc"><p >Indicates that there has been a descriptor bus error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1e97abc7cb9e59f78fc9a139837e9478aabe18828f70d3090aa58eb45396cb960" name="gga1e97abc7cb9e59f78fc9a139837e9478aabe18828f70d3090aa58eb45396cb960"></a>MTB_HAL_DMA_GENERIC_ERROR&#160;</td><td class="fielddoc"><p >Indicates that there has been a generic error during the DMA transfer. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf0c27a248f3d97a8bf7f2f56a486dbe7" name="gaf0c27a248f3d97a8bf7f2f56a486dbe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf0c27a248f3d97a8bf7f2f56a486dbe7">&#9670;&nbsp;</a></span>mtb_hal_dma_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_dma_setup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__configurator__t">mtb_hal_dma_configurator_t</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up a HAL instance to use the specified hardware resource. </p>
<p >This hardware resource must have already been configured via the PDL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">obj</td><td>The HAL driver instance object. The caller must allocate the memory for this object, but the HAL will initialize its contents </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>The configurator-generated HAL config structure for this peripheral instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the status of the HAL setup</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If D-cache is enabled, this function cleans D-cache of DMA descriptor. </dd>
<dd>
Not all the DMA configuration is supported in the HAL. Only 1D transfer and 2D transfer DMA Descriptor types are supported in the HAL Only X loop transfer (M loop in case of AXIDMAC) and decriptor transfer interrupt types are supported in the HAL </dd></dl>

</div>
</div>
<a id="ga4d1c0aca2d52aac18118746d0aeb4302" name="ga4d1c0aca2d52aac18118746d0aeb4302"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4d1c0aca2d52aac18118746d0aeb4302">&#9670;&nbsp;</a></span>mtb_hal_dma_set_src_addr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_dma_set_src_addr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>src_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the source address for the DMA transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The DMA object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src_addr</td><td>The source address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the request</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If D-cache is enabled, this function cleans D-cache of DMA descriptor. </dd></dl>

</div>
</div>
<a id="ga99b72de5b32c77a95180b20285ee6d2c" name="ga99b72de5b32c77a95180b20285ee6d2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga99b72de5b32c77a95180b20285ee6d2c">&#9670;&nbsp;</a></span>mtb_hal_dma_set_dst_addr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_dma_set_dst_addr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dst_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the destination address for the DMA transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The DMA object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dst_addr</td><td>The destination address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the request</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If D-cache is enabled, this function cleans D-cache of DMA descriptor. </dd></dl>

</div>
</div>
<a id="ga5de1d8ee122ed59ce7d8d67a43f8f703" name="ga5de1d8ee122ed59ce7d8d67a43f8f703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5de1d8ee122ed59ce7d8d67a43f8f703">&#9670;&nbsp;</a></span>mtb_hal_dma_set_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_dma_set_length </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the length for the DMA transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The DMA object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>The transfer length, in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the request</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If D-cache is enabled, this function cleans D-cache of DMA descriptor. </dd></dl>

</div>
</div>
<a id="ga21cf52f100147f508126841b5749b984" name="ga21cf52f100147f508126841b5749b984"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga21cf52f100147f508126841b5749b984">&#9670;&nbsp;</a></span>mtb_hal_dma_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_dma_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable the DMA transfer so that it can start transferring data when triggered. </p>
<p >A trigger is caused either by calling <a class="el" href="group__group__hal__dma.html#ga8647c4bd35e8aefe1160dfc9e4641702">mtb_hal_dma_start_transfer</a> or by hardware as a result of connection made using the interconnect components in the device configurator. The DMA can be disabled by calling <a class="el" href="group__group__hal__dma.html#gafdf25fa78e196a21343df8bbf1398124">mtb_hal_dma_disable</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The DMA object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the enable request </dd></dl>

</div>
</div>
<a id="gafdf25fa78e196a21343df8bbf1398124" name="gafdf25fa78e196a21343df8bbf1398124"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafdf25fa78e196a21343df8bbf1398124">&#9670;&nbsp;</a></span>mtb_hal_dma_disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_dma_disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable the DMA transfer so that it does not continue to trigger. </p>
<p >It can be reenabled by calling <a class="el" href="group__group__hal__dma.html#ga21cf52f100147f508126841b5749b984">mtb_hal_dma_enable</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The DMA object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the disable request </dd></dl>

</div>
</div>
<a id="ga8647c4bd35e8aefe1160dfc9e4641702" name="ga8647c4bd35e8aefe1160dfc9e4641702"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8647c4bd35e8aefe1160dfc9e4641702">&#9670;&nbsp;</a></span>mtb_hal_dma_start_transfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_dma_start_transfer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiates DMA channel transfer for specified DMA object. </p>
<p >This should only be done after the channel has been configured and setup and any necessary event callbacks setup (<a class="el" href="group__group__hal__dma.html#ga64ae0028cf0c97cc341aeba0fbb1af8a">mtb_hal_dma_register_callback</a> <a class="el" href="group__group__hal__dma.html#gaf2a4ef0b900b75f16d4ca27366bb5ba2">mtb_hal_dma_enable_event</a>)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The DMA object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the start_transfer request </dd></dl>

</div>
</div>
<a id="ga6c41b6cc1feb1a91c6f7106c49ec95fe" name="ga6c41b6cc1feb1a91c6f7106c49ec95fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c41b6cc1feb1a91c6f7106c49ec95fe">&#9670;&nbsp;</a></span>mtb_hal_dma_is_busy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mtb_hal_dma_is_busy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the transfer has been triggered, but not yet complete (eg: is pending, blocked or running) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The DMA object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if DMA channel is busy </dd></dl>

</div>
</div>
<a id="gaa77f80c7ee89fc06eca4b9c0ed2aba87" name="gaa77f80c7ee89fc06eca4b9c0ed2aba87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa77f80c7ee89fc06eca4b9c0ed2aba87">&#9670;&nbsp;</a></span>mtb_hal_dma_process_interrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_dma_process_interrupt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process interrupts related related to a DMA instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>HAL object for which the interrupt should be processed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CY_RSLT_SUCCESS if the interrupt was processed successfully; otherwise an error </dd></dl>

</div>
</div>
<a id="ga64ae0028cf0c97cc341aeba0fbb1af8a" name="ga64ae0028cf0c97cc341aeba0fbb1af8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga64ae0028cf0c97cc341aeba0fbb1af8a">&#9670;&nbsp;</a></span>mtb_hal_dma_register_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mtb_hal_dma_register_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__hal__dma.html#ga214f55a18f802fe57d0a44152958aef8">mtb_hal_dma_event_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>callback_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a DMA callback handler. </p>
<p >This function will be called when one of the events enabled by <a class="el" href="group__group__hal__dma.html#gaf2a4ef0b900b75f16d4ca27366bb5ba2">mtb_hal_dma_enable_event</a> occurs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The DMA object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>The callback handler which will be invoked when an event triggers </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback_arg</td><td>Generic argument that will be provided to the callback when called </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf2a4ef0b900b75f16d4ca27366bb5ba2" name="gaf2a4ef0b900b75f16d4ca27366bb5ba2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf2a4ef0b900b75f16d4ca27366bb5ba2">&#9670;&nbsp;</a></span>mtb_hal_dma_enable_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mtb_hal_dma_enable_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__hal__dma.html#ga1e97abc7cb9e59f78fc9a139837e9478">mtb_hal_dma_event_t</a>&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure DMA event enablement. </p>
<p >When an enabled event occurs, the function specified by <a class="el" href="group__group__hal__dma.html#ga64ae0028cf0c97cc341aeba0fbb1af8a">mtb_hal_dma_register_callback</a> will be called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The DMA object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>The DMA event type recent call will take precedence, i.e all events will have the same priority. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">enable</td><td>True to turn on interrupts, False to turn off </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4d0b15ac07b80223a33f2d8a983093c3" name="ga4d0b15ac07b80223a33f2d8a983093c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4d0b15ac07b80223a33f2d8a983093c3">&#9670;&nbsp;</a></span>mtb_hal_dma_get_max_elements_per_burst()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t mtb_hal_dma_get_max_elements_per_burst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__dma__t">mtb_hal_dma_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Max number of elements, that can be transferred by one burst. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The DMA object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Max number of elements, that can be transferred by one burst </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>Hardware Abstraction Layer (HAL)</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
