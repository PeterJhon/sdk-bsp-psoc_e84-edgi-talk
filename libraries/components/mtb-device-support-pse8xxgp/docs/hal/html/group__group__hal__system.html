<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hardware Abstraction Layer (HAL)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hardware Abstraction Layer (HAL)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__group__hal__system.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">API Reference</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">System<div class="ingroups"><a class="el" href="group__group__hal.html">HAL Drivers</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<p >High level interface for interacting with reset and delays. </p>
<h1><a class="anchor" id="section_system_features"></a>
Features</h1>
<p >This driver provides three categories of functionality:</p><ul>
<li>Ability to get the last reset reason.</li>
<li>Ability to delay for a period of time.</li>
<li>The ability to disable interrupts during a critical section.</li>
</ul>
<h1><a class="anchor" id="subsection_system_quickstart"></a>
Quick Start</h1>
<ul>
<li><a class="el" href="group__group__hal__system.html#gab273ced03ec4f2cb0907a68de5d8c145">mtb_hal_system_critical_section_enter</a> and <a class="el" href="group__group__hal__system.html#ga6c6dffd4d24553f7623f214eb7aa1988">mtb_hal_system_critical_section_exit</a> are used to enable/disable global interrupts</li>
<li><a class="el" href="group__group__hal__system.html#ga17d686e00a410c8309b7d644065f6456">mtb_hal_system_delay_ms</a> and <a class="el" href="group__group__hal__system.html#ga8892a05ef9ceebe0465bbade7832b89d">mtb_hal_system_delay_us</a> are delay functions used to halt the CPU exectution for a specified period of time</li>
<li><a class="el" href="group__group__hal__system.html#ga91667a3bdbbae46cf9eb9846c46ee0a8">mtb_hal_system_get_reset_reason</a> gets the cause of latest system reset</li>
</ul>
<h1><a class="anchor" id="subsection_system_codesnippet"></a>
Code Snippets</h1>
<h2><a class="anchor" id="subsection_system_snippet1"></a>
Snippet 1: Critical Section</h2>
<p >Critical section is a portion in the code where all active interrupts are disabled. This is usually provided in places where the code execution must not be disturbed by an interrupt. An example is a firmware controlled communication protocol where timing of each byte must be maintained and any interrupt might cause loss of data. <br  />
 <a class="el" href="group__group__hal__system.html#gab273ced03ec4f2cb0907a68de5d8c145">mtb_hal_system_critical_section_enter</a> returns the current state of interrupts which denote the active interrupts in the system. This must be passed as argument to <a class="el" href="group__group__hal__system.html#ga6c6dffd4d24553f7623f214eb7aa1988">mtb_hal_system_critical_section_exit</a> while exiting the critical section. </p><div class="fragment"><div class="line">    <span class="comment">// Disables all interrupts</span></div>
<div class="line">    uint32_t state = <a class="code hl_function" href="group__group__hal__system.html#gab273ced03ec4f2cb0907a68de5d8c145">mtb_hal_system_critical_section_enter</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Application code where interrupts must be disabled</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Re-enable all interrupts that were enabled before</span></div>
<div class="line">    <a class="code hl_function" href="group__group__hal__system.html#ga6c6dffd4d24553f7623f214eb7aa1988">mtb_hal_system_critical_section_exit</a>(state);</div>
<div class="ttc" id="agroup__group__hal__system_html_ga6c6dffd4d24553f7623f214eb7aa1988"><div class="ttname"><a href="group__group__hal__system.html#ga6c6dffd4d24553f7623f214eb7aa1988">mtb_hal_system_critical_section_exit</a></div><div class="ttdeci">void mtb_hal_system_critical_section_exit(uint32_t old_state)</div><div class="ttdoc">Exit a critical section.</div></div>
<div class="ttc" id="agroup__group__hal__system_html_gab273ced03ec4f2cb0907a68de5d8c145"><div class="ttname"><a href="group__group__hal__system.html#gab273ced03ec4f2cb0907a68de5d8c145">mtb_hal_system_critical_section_enter</a></div><div class="ttdeci">uint32_t mtb_hal_system_critical_section_enter(void)</div><div class="ttdoc">Enter a critical section.</div></div>
</div><!-- fragment --><h2><a class="anchor" id="subsection_system_snippet2"></a>
Snippet 2: Reset reason</h2>
<p ><a class="el" href="group__group__hal__system.html#ga91667a3bdbbae46cf9eb9846c46ee0a8">mtb_hal_system_get_reset_reason</a> must be called at the beginning of the main to determine the reason for reset. The return parameters are present in <a class="el" href="group__group__hal__system.html#gadda8b3736fe48da7c06681aa03a46e66">mtb_hal_reset_reason_t</a>. </p><div class="fragment"><div class="line">    <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="group__group__hal__system.html#ggadda8b3736fe48da7c06681aa03a46e66aaafc521f12b052ab1f39ce1c401c3bda">MTB_HAL_SYSTEM_RESET_WDT</a> == <a class="code hl_function" href="group__group__hal__system.html#ga91667a3bdbbae46cf9eb9846c46ee0a8">mtb_hal_system_get_reset_reason</a>())</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// WDT caused system reset</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Application code to perform some action to indicate that WDT caused the interrupt</span></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Reset reason is not WDT Could be POR or XRES.  Specify application code to perform some</span></div>
<div class="line">        <span class="comment">// action to indicate WDT was not the reset reaon</span></div>
<div class="line">    }</div>
<div class="ttc" id="agroup__group__hal__system_html_ga91667a3bdbbae46cf9eb9846c46ee0a8"><div class="ttname"><a href="group__group__hal__system.html#ga91667a3bdbbae46cf9eb9846c46ee0a8">mtb_hal_system_get_reset_reason</a></div><div class="ttdeci">mtb_hal_reset_reason_t mtb_hal_system_get_reset_reason(void)</div><div class="ttdoc">Gets the cause of the latest reset or resets that occurred in the system.</div><div class="ttdef"><b>Definition:</b> mtb_hal_system.c:79</div></div>
<div class="ttc" id="agroup__group__hal__system_html_ggadda8b3736fe48da7c06681aa03a46e66aaafc521f12b052ab1f39ce1c401c3bda"><div class="ttname"><a href="group__group__hal__system.html#ggadda8b3736fe48da7c06681aa03a46e66aaafc521f12b052ab1f39ce1c401c3bda">MTB_HAL_SYSTEM_RESET_WDT</a></div><div class="ttdeci">@ MTB_HAL_SYSTEM_RESET_WDT</div><div class="ttdoc">A watchdog timer (WDT) reset has occurred.</div><div class="ttdef"><b>Definition:</b> mtb_hal_system.h:102</div></div>
</div><!-- fragment --> <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
API Reference</h2></td></tr>
<tr class="memitem:group__group__hal__results__system"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__results__system.html">SYSTEM HAL Results</a></td></tr>
<tr class="memdesc:group__group__hal__results__system"><td class="mdescLeft">&#160;</td><td class="mdescRight">SYSTEM specific return codes. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gadda8b3736fe48da7c06681aa03a46e66"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__system.html#gadda8b3736fe48da7c06681aa03a46e66">mtb_hal_reset_reason_t</a> { <br />
&#160;&#160;<a class="el" href="group__group__hal__system.html#ggadda8b3736fe48da7c06681aa03a46e66a43f88230b8748e6f974baf193c92be8d">MTB_HAL_SYSTEM_RESET_NONE</a> = 0
, <br />
&#160;&#160;<a class="el" href="group__group__hal__system.html#ggadda8b3736fe48da7c06681aa03a46e66aaafc521f12b052ab1f39ce1c401c3bda">MTB_HAL_SYSTEM_RESET_WDT</a> = 1 &lt;&lt; 0
, <br />
&#160;&#160;<a class="el" href="group__group__hal__system.html#ggadda8b3736fe48da7c06681aa03a46e66a87fc54118c2d7d76678003b17a5e1322">MTB_HAL_SYSTEM_RESET_ACTIVE_FAULT</a> = 1 &lt;&lt; 1
, <br />
&#160;&#160;<a class="el" href="group__group__hal__system.html#ggadda8b3736fe48da7c06681aa03a46e66a4c0f5ec0a137c3e6b3a215ffe9d5d103">MTB_HAL_SYSTEM_RESET_DEEPSLEEP_FAULT</a> = 1 &lt;&lt; 2
, <br />
&#160;&#160;<a class="el" href="group__group__hal__system.html#ggadda8b3736fe48da7c06681aa03a46e66a94bcf333ff6c221ebab173b5cdaa1546">MTB_HAL_SYSTEM_RESET_SOFT</a> = 1 &lt;&lt; 3
, <br />
&#160;&#160;<a class="el" href="group__group__hal__system.html#ggadda8b3736fe48da7c06681aa03a46e66aa54604282ce2aac49c9294a8e7d0852b">MTB_HAL_SYSTEM_RESET_HIB_WAKEUP</a> = 1 &lt;&lt; 4
, <br />
&#160;&#160;<a class="el" href="group__group__hal__system.html#ggadda8b3736fe48da7c06681aa03a46e66adff885d8d3e4eda2f41e11cd344ee373">MTB_HAL_SYSTEM_RESET_WCO_ERR</a> = 1 &lt;&lt; 5
, <br />
&#160;&#160;<a class="el" href="group__group__hal__system.html#ggadda8b3736fe48da7c06681aa03a46e66aa3494e3b19d0e47b3a493fc45a4672ee">MTB_HAL_SYSTEM_RESET_SYS_CLK_ERR</a> = 1 &lt;&lt; 6
, <br />
&#160;&#160;<a class="el" href="group__group__hal__system.html#ggadda8b3736fe48da7c06681aa03a46e66a6c13c8f577e57213531ffc20cacee874">MTB_HAL_SYSTEM_RESET_PROTECTION</a> = 1 &lt;&lt; 7
, <br />
&#160;&#160;<a class="el" href="group__group__hal__system.html#ggadda8b3736fe48da7c06681aa03a46e66a884d440ee9ab99524837c74aea776e6e">MTB_HAL_SYSTEM_RESET_WARMBOOT</a> = 1 &lt;&lt; 8
<br />
 }</td></tr>
<tr class="memdesc:gadda8b3736fe48da7c06681aa03a46e66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags enum of possible system reset causes.  <a href="group__group__hal__system.html#gadda8b3736fe48da7c06681aa03a46e66">More...</a><br /></td></tr>
<tr class="separator:gadda8b3736fe48da7c06681aa03a46e66"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab273ced03ec4f2cb0907a68de5d8c145"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__system.html#gab273ced03ec4f2cb0907a68de5d8c145">mtb_hal_system_critical_section_enter</a> (void)</td></tr>
<tr class="memdesc:gab273ced03ec4f2cb0907a68de5d8c145"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enter a critical section.  <a href="group__group__hal__system.html#gab273ced03ec4f2cb0907a68de5d8c145">More...</a><br /></td></tr>
<tr class="separator:gab273ced03ec4f2cb0907a68de5d8c145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c6dffd4d24553f7623f214eb7aa1988"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__system.html#ga6c6dffd4d24553f7623f214eb7aa1988">mtb_hal_system_critical_section_exit</a> (uint32_t old_state)</td></tr>
<tr class="memdesc:ga6c6dffd4d24553f7623f214eb7aa1988"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exit a critical section.  <a href="group__group__hal__system.html#ga6c6dffd4d24553f7623f214eb7aa1988">More...</a><br /></td></tr>
<tr class="separator:ga6c6dffd4d24553f7623f214eb7aa1988"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17d686e00a410c8309b7d644065f6456"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__system.html#ga17d686e00a410c8309b7d644065f6456">mtb_hal_system_delay_ms</a> (uint32_t milliseconds)</td></tr>
<tr class="memdesc:ga17d686e00a410c8309b7d644065f6456"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests that the current operation delays for at least the specified length of time.  <a href="group__group__hal__system.html#ga17d686e00a410c8309b7d644065f6456">More...</a><br /></td></tr>
<tr class="separator:ga17d686e00a410c8309b7d644065f6456"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8892a05ef9ceebe0465bbade7832b89d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__system.html#ga8892a05ef9ceebe0465bbade7832b89d">mtb_hal_system_delay_us</a> (uint16_t microseconds)</td></tr>
<tr class="memdesc:ga8892a05ef9ceebe0465bbade7832b89d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests that the current operation delay for at least the specified number of micro-seconds.  <a href="group__group__hal__system.html#ga8892a05ef9ceebe0465bbade7832b89d">More...</a><br /></td></tr>
<tr class="separator:ga8892a05ef9ceebe0465bbade7832b89d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91667a3bdbbae46cf9eb9846c46ee0a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__hal__system.html#gadda8b3736fe48da7c06681aa03a46e66">mtb_hal_reset_reason_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__system.html#ga91667a3bdbbae46cf9eb9846c46ee0a8">mtb_hal_system_get_reset_reason</a> (void)</td></tr>
<tr class="memdesc:ga91667a3bdbbae46cf9eb9846c46ee0a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the cause of the latest reset or resets that occurred in the system.  <a href="group__group__hal__system.html#ga91667a3bdbbae46cf9eb9846c46ee0a8">More...</a><br /></td></tr>
<tr class="separator:ga91667a3bdbbae46cf9eb9846c46ee0a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa3789a2a8c8e8c9b359a5e3e1528660e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__system.html#gaa3789a2a8c8e8c9b359a5e3e1528660e">mtb_hal_system_reset_device</a> (void)</td></tr>
<tr class="memdesc:gaa3789a2a8c8e8c9b359a5e3e1528660e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the device.  <a href="group__group__hal__system.html#gaa3789a2a8c8e8c9b359a5e3e1528660e">More...</a><br /></td></tr>
<tr class="separator:gaa3789a2a8c8e8c9b359a5e3e1528660e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gadda8b3736fe48da7c06681aa03a46e66" name="gadda8b3736fe48da7c06681aa03a46e66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadda8b3736fe48da7c06681aa03a46e66">&#9670;&nbsp;</a></span>mtb_hal_reset_reason_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__group__hal__system.html#gadda8b3736fe48da7c06681aa03a46e66">mtb_hal_reset_reason_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flags enum of possible system reset causes. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggadda8b3736fe48da7c06681aa03a46e66a43f88230b8748e6f974baf193c92be8d" name="ggadda8b3736fe48da7c06681aa03a46e66a43f88230b8748e6f974baf193c92be8d"></a>MTB_HAL_SYSTEM_RESET_NONE&#160;</td><td class="fielddoc"><p >No cause. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggadda8b3736fe48da7c06681aa03a46e66aaafc521f12b052ab1f39ce1c401c3bda" name="ggadda8b3736fe48da7c06681aa03a46e66aaafc521f12b052ab1f39ce1c401c3bda"></a>MTB_HAL_SYSTEM_RESET_WDT&#160;</td><td class="fielddoc"><p >A watchdog timer (WDT) reset has occurred. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggadda8b3736fe48da7c06681aa03a46e66a87fc54118c2d7d76678003b17a5e1322" name="ggadda8b3736fe48da7c06681aa03a46e66a87fc54118c2d7d76678003b17a5e1322"></a>MTB_HAL_SYSTEM_RESET_ACTIVE_FAULT&#160;</td><td class="fielddoc"><p >The fault logging system requested a reset from its Active logic. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggadda8b3736fe48da7c06681aa03a46e66a4c0f5ec0a137c3e6b3a215ffe9d5d103" name="ggadda8b3736fe48da7c06681aa03a46e66a4c0f5ec0a137c3e6b3a215ffe9d5d103"></a>MTB_HAL_SYSTEM_RESET_DEEPSLEEP_FAULT&#160;</td><td class="fielddoc"><p >The fault logging system requested a reset from its Deep-Sleep logic. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggadda8b3736fe48da7c06681aa03a46e66a94bcf333ff6c221ebab173b5cdaa1546" name="ggadda8b3736fe48da7c06681aa03a46e66a94bcf333ff6c221ebab173b5cdaa1546"></a>MTB_HAL_SYSTEM_RESET_SOFT&#160;</td><td class="fielddoc"><p >The CPU requested a system reset through it's SYSRESETREQ. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggadda8b3736fe48da7c06681aa03a46e66aa54604282ce2aac49c9294a8e7d0852b" name="ggadda8b3736fe48da7c06681aa03a46e66aa54604282ce2aac49c9294a8e7d0852b"></a>MTB_HAL_SYSTEM_RESET_HIB_WAKEUP&#160;</td><td class="fielddoc"><p >A reset has occurred due to a a wakeup from hibernate power mode. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggadda8b3736fe48da7c06681aa03a46e66adff885d8d3e4eda2f41e11cd344ee373" name="ggadda8b3736fe48da7c06681aa03a46e66adff885d8d3e4eda2f41e11cd344ee373"></a>MTB_HAL_SYSTEM_RESET_WCO_ERR&#160;</td><td class="fielddoc"><p >A reset has occurred due to a watch-crystal clock error. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggadda8b3736fe48da7c06681aa03a46e66aa3494e3b19d0e47b3a493fc45a4672ee" name="ggadda8b3736fe48da7c06681aa03a46e66aa3494e3b19d0e47b3a493fc45a4672ee"></a>MTB_HAL_SYSTEM_RESET_SYS_CLK_ERR&#160;</td><td class="fielddoc"><p >A reset has occurred due to a system clock error. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggadda8b3736fe48da7c06681aa03a46e66a6c13c8f577e57213531ffc20cacee874" name="ggadda8b3736fe48da7c06681aa03a46e66a6c13c8f577e57213531ffc20cacee874"></a>MTB_HAL_SYSTEM_RESET_PROTECTION&#160;</td><td class="fielddoc"><p >A reset has occurred due to a protection violation. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggadda8b3736fe48da7c06681aa03a46e66a884d440ee9ab99524837c74aea776e6e" name="ggadda8b3736fe48da7c06681aa03a46e66a884d440ee9ab99524837c74aea776e6e"></a>MTB_HAL_SYSTEM_RESET_WARMBOOT&#160;</td><td class="fielddoc"><p >A reset has occurred due wake up from DSRAM, which is a Warm Boot. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab273ced03ec4f2cb0907a68de5d8c145" name="gab273ced03ec4f2cb0907a68de5d8c145"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab273ced03ec4f2cb0907a68de5d8c145">&#9670;&nbsp;</a></span>mtb_hal_system_critical_section_enter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t mtb_hal_system_critical_section_enter </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enter a critical section. </p>
<p >Disables interrupts and returns a value indicating whether the interrupts were previously enabled.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the state before entering the critical section. This value must be provided to <a class="el" href="group__group__hal__system.html#ga6c6dffd4d24553f7623f214eb7aa1988">mtb_hal_system_critical_section_exit()</a> to properly restore the state</dd></dl>
<p>See <a class="el" href="group__group__hal__system.html#subsection_system_snippet1">Snippet 1: Critical Section</a> for code snippet on critical section </p>

</div>
</div>
<a id="ga6c6dffd4d24553f7623f214eb7aa1988" name="ga6c6dffd4d24553f7623f214eb7aa1988"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c6dffd4d24553f7623f214eb7aa1988">&#9670;&nbsp;</a></span>mtb_hal_system_critical_section_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mtb_hal_system_critical_section_exit </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>old_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exit a critical section. </p>
<p >Re-enables the interrupts if they were enabled before <a class="el" href="group__group__hal__system.html#gab273ced03ec4f2cb0907a68de5d8c145" title="Enter a critical section.">mtb_hal_system_critical_section_enter()</a> was called. The argument should be the value returned from <a class="el" href="group__group__hal__system.html#gab273ced03ec4f2cb0907a68de5d8c145">mtb_hal_system_critical_section_enter()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">old_state</td><td>The state of interrupts from <a class="el" href="group__group__hal__system.html#gab273ced03ec4f2cb0907a68de5d8c145" title="Enter a critical section.">mtb_hal_system_critical_section_enter()</a></td></tr>
  </table>
  </dd>
</dl>
<p>See <a class="el" href="group__group__hal__system.html#subsection_system_snippet1">Snippet 1: Critical Section</a> for code snippet on critical section </p>

</div>
</div>
<a id="ga17d686e00a410c8309b7d644065f6456" name="ga17d686e00a410c8309b7d644065f6456"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga17d686e00a410c8309b7d644065f6456">&#9670;&nbsp;</a></span>mtb_hal_system_delay_ms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_system_delay_ms </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>milliseconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Requests that the current operation delays for at least the specified length of time. </p>
<p >If this is running in an RTOS aware environment (COMPONENTS+=RTOS_AWARE) or (DEFINES+=CY_RTOS_AWARE) it will attempt to have the RTOS suspend the current task so others can continue to run. If this is not run under an RTOS it will then defer to the standard system delay which is likely to be a busy loop. If this is part of an application that is build with RTOS awareness, but the delay should not depend on the RTOS for whatever reason, use <a class="el" href="group__group__hal__system.html#ga8892a05ef9ceebe0465bbade7832b89d" title="Requests that the current operation delay for at least the specified number of micro-seconds.">mtb_hal_system_delay_us()</a> with the appropriate 1000x multiplier to the delay time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">milliseconds</td><td>The number of milliseconds to delay for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns CY_RSLT_SUCCESS if the delay request was successful, otherwise error </dd></dl>

</div>
</div>
<a id="ga8892a05ef9ceebe0465bbade7832b89d" name="ga8892a05ef9ceebe0465bbade7832b89d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8892a05ef9ceebe0465bbade7832b89d">&#9670;&nbsp;</a></span>mtb_hal_system_delay_us()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mtb_hal_system_delay_us </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>microseconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Requests that the current operation delay for at least the specified number of micro-seconds. </p>
<p >This will generally keep the processor active in a loop for the specified length of time. If this is running under an RTOS, it will NOT attempt to run any other RTOS tasks, however if the scheduler or a high priority interrupt comes it they can take over anyway.</p>
<p >Note: The delay calculation does not account for interrupt processing. If the use case is sensitive to the timing precision of this delay, consider encapsulating this function within a critical section for protection against additional delay.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">microseconds</td><td>The number of micro-seconds to delay for </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga91667a3bdbbae46cf9eb9846c46ee0a8" name="ga91667a3bdbbae46cf9eb9846c46ee0a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga91667a3bdbbae46cf9eb9846c46ee0a8">&#9670;&nbsp;</a></span>mtb_hal_system_get_reset_reason()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__hal__system.html#gadda8b3736fe48da7c06681aa03a46e66">mtb_hal_reset_reason_t</a> mtb_hal_system_get_reset_reason </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the cause of the latest reset or resets that occurred in the system. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns an enum of flags with the cause of the last reset(s)</dd></dl>
<p>Refer <a class="el" href="group__group__hal__system.html#subsection_system_snippet2">Snippet 2: Reset reason</a> for code snippet on mtb_hal_system_get_reset_reason </p>

</div>
</div>
<a id="gaa3789a2a8c8e8c9b359a5e3e1528660e" name="gaa3789a2a8c8e8c9b359a5e3e1528660e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa3789a2a8c8e8c9b359a5e3e1528660e">&#9670;&nbsp;</a></span>mtb_hal_system_reset_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_system_reset_device </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the device. </p>
<p >The mechanism used to reset the device is implementation-specific and the reset behavior differs between devices.</p>
<dl class="section return"><dt>Returns</dt><dd>This function does not return if successful. Otherwise an error is returned. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>Hardware Abstraction Layer (HAL)</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
