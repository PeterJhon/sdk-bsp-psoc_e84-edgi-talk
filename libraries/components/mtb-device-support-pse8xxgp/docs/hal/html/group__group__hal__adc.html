<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hardware Abstraction Layer (HAL)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hardware Abstraction Layer (HAL)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__group__hal__adc.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">API Reference</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ADC (Analog to Digital Converter)<div class="ingroups"><a class="el" href="group__group__hal.html">HAL Drivers</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<p >High level interface for interacting with the analog to digital converter (ADC). </p>
<h1><a class="anchor" id="mtb_hal_adc_features"></a>
Features</h1>
<p >Both single-ended and differential channels are supported. The values returned by the read API are relative to the ADC's voltage range, which is device specific. See the BSP documentation for details.</p>
<h1><a class="anchor" id="mtb_hal_adc_quickstart"></a>
Quickstart</h1>
<ol type="1">
<li>Initialize the ADC hardware and channels via PDL call</li>
<li>Allocate the memory for the HAL ADC object</li>
<li>Set up the HAL ADC using mtb_hal_adc_setup by passing the HAL ADC object and the pre-initialized ADC structures.</li>
</ol>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="group__group__hal__adc.html#gaf81e53ff86c18a67d12cdecf48c956e6">mtb_hal_adc_read_u16</a> always returns a 16 bit value in the range 0x0000-0xFFFF. If the underlying hardware does not support 16 bit resolution the value is scaled linearly to cover the full 16 bits.</dd></dl>
<h1><a class="anchor" id="subsection_adc_snippets"></a>
Code snippets</h1>
<dl class="section note"><dt>Note</dt><dd>Error checking is omitted for clarity </dd></dl>
<h2><a class="anchor" id="subsection_adc_snippet_1"></a>
Snippet 1: Simple ADC initialization and reading conversion result</h2>
<p >The following snippet initializes an ADC and one channel. One ADC conversion result is returned corresponding to the input at the specified pin. </p><div class="fragment"><div class="line">    <a class="code hl_typedef" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>               rslt;</div>
<div class="line">    mtb_hal_adc_t           adc_obj;</div>
<div class="line">    mtb_hal_adc_channel_t   channel_0, channel_1;</div>
<div class="line">    mtb_hal_adc_channel_t*  channels[] = { &amp;channel_0, &amp;channel_1 };</div>
<div class="line">    int32_t                 adc_output;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">    #if defined(CY_IP_MXS40EPASS_ESAR_INSTANCES)</span></div>
<div class="line">    <span class="comment">/* IP-specific PDL initialization */</span></div>
<div class="line">    rslt = (<a class="code hl_typedef" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>)Cy_SAR2_Init(ADC_0_HW, &amp;ADC_0_config);</div>
<div class="line">    Cy_SAR2_SetReferenceBufferMode(PASS0_EPASS_MMIO, CY_SAR2_REF_BUF_MODE_ON);</div>
<div class="line"><span class="preprocessor">    #endif </span><span class="comment">/* defined(CY_IP_MXS40EPASS_ESAR_INSTANCES) */</span><span class="preprocessor"></span></div>
<div class="line"> </div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__adc.html#gaca5af65e04a892d71430cf9a3bb589cf">mtb_hal_adc_setup</a>(&amp;adc_obj, &amp;ADC_0_hal_config, NULL, channels);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Read the ADC conversion result for corresponding ADC channel. Repeat as necessary.</span></div>
<div class="line">    adc_output = <a class="code hl_function" href="group__group__hal__adc.html#gaf81e53ff86c18a67d12cdecf48c956e6">mtb_hal_adc_read_u16</a>(&amp;channel_0);</div>
<div class="line"> </div>
<div class="ttc" id="agroup__group__hal__adc_html_gaca5af65e04a892d71430cf9a3bb589cf"><div class="ttname"><a href="group__group__hal__adc.html#gaca5af65e04a892d71430cf9a3bb589cf">mtb_hal_adc_setup</a></div><div class="ttdeci">cy_rslt_t mtb_hal_adc_setup(mtb_hal_adc_t *obj, const mtb_hal_adc_configurator_t *config, mtb_hal_clock_t *clk, mtb_hal_adc_channel_t **channels)</div><div class="ttdoc">Sets up a HAL instance to use the specified hardware resource.</div></div>
<div class="ttc" id="agroup__group__hal__adc_html_gaf81e53ff86c18a67d12cdecf48c956e6"><div class="ttname"><a href="group__group__hal__adc.html#gaf81e53ff86c18a67d12cdecf48c956e6">mtb_hal_adc_read_u16</a></div><div class="ttdeci">uint16_t mtb_hal_adc_read_u16(const mtb_hal_adc_channel_t *obj)</div><div class="ttdoc">Read the value from the ADC pin, represented as an unsigned 16bit value where 0x0000 represents the m...</div></div>
<div class="ttc" id="agroup__group__result_html_gaca79700fcc701534ce61778a9bcf57d1"><div class="ttname"><a href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a></div><div class="ttdeci">uint32_t cy_rslt_t</div><div class="ttdoc">Provides the result of an operation as a structured bitfield.</div><div class="ttdef"><b>Definition:</b> cy_result.h:479</div></div>
</div><!-- fragment --> <h2><a class="anchor" id="subsection_adc_snippet_2"></a>
Snippet 2: Single-channel ADC initialization set to start a fresh conversion and read the latest result.</h2>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> snippet_mtb_hal_read_latest(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    mtb_hal_adc_t           adc_obj;</div>
<div class="line">    mtb_hal_adc_channel_t   channel_0;</div>
<div class="line">    mtb_hal_adc_channel_t*  channels[] = { &amp;channel_0 };</div>
<div class="line">    int32_t                 read_val;</div>
<div class="line">    <a class="code hl_typedef" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>               rslt;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">    #if defined(CY_IP_MXS40EPASS_ESAR_INSTANCES)</span></div>
<div class="line">    <span class="comment">/* IP-specific PDL initialization */</span></div>
<div class="line">    rslt = (<a class="code hl_typedef" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>)Cy_SAR2_Init(ADC_0_HW, &amp;ADC_0_config);</div>
<div class="line">    <span class="keywordflow">if</span> (rslt != <a class="code hl_define" href="group__group__result.html#gaf58fac450d9fff4472f03ad68f6e546e">CY_RSLT_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Address failure</span></div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    Cy_SAR2_SetReferenceBufferMode(PASS0_EPASS_MMIO, CY_SAR2_REF_BUF_MODE_ON);</div>
<div class="line"><span class="preprocessor">    #endif </span><span class="comment">/* defined(CY_IP_MXS40EPASS_ESAR_INSTANCES) */</span><span class="preprocessor"></span></div>
<div class="line"> </div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__adc.html#gaca5af65e04a892d71430cf9a3bb589cf">mtb_hal_adc_setup</a>(&amp;adc_obj, &amp;ADC_0_hal_config, NULL, channels);</div>
<div class="line">    <span class="keywordflow">if</span> (rslt != <a class="code hl_define" href="group__group__result.html#gaf58fac450d9fff4472f03ad68f6e546e">CY_RSLT_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Address failure</span></div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Start a new conversion</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__adc.html#ga37fb86a5ac856ecd92abbe614afc5cc8">mtb_hal_adc_start_convert</a>(&amp;adc_obj);</div>
<div class="line">    <span class="keywordflow">if</span> (rslt != <a class="code hl_define" href="group__group__result.html#gaf58fac450d9fff4472f03ad68f6e546e">CY_RSLT_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Address failure</span></div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Wait for the conversion to finish</span></div>
<div class="line">    <span class="keywordflow">while</span> (!<a class="code hl_function" href="group__group__hal__adc.html#gab211ace287827ccd83473caa818474fe">mtb_hal_adc_is_conversion_complete</a>(&amp;channel_0))</div>
<div class="line">    {</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Read the conversion result</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__adc.html#ga0281466b2261ce8fda1a401e7ed9241a">mtb_hal_adc_read_latest</a>(&amp;channel_0, &amp;read_val);</div>
<div class="line">    <span class="keywordflow">if</span> (rslt != <a class="code hl_define" href="group__group__result.html#gaf58fac450d9fff4472f03ad68f6e546e">CY_RSLT_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Address failure</span></div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="ttc" id="agroup__group__hal__adc_html_ga0281466b2261ce8fda1a401e7ed9241a"><div class="ttname"><a href="group__group__hal__adc.html#ga0281466b2261ce8fda1a401e7ed9241a">mtb_hal_adc_read_latest</a></div><div class="ttdeci">cy_rslt_t mtb_hal_adc_read_latest(const mtb_hal_adc_channel_t *obj, int32_t *result)</div><div class="ttdoc">Reads the result of the most recent scan for the specified channel and writes it to the given result ...</div></div>
<div class="ttc" id="agroup__group__hal__adc_html_ga37fb86a5ac856ecd92abbe614afc5cc8"><div class="ttname"><a href="group__group__hal__adc.html#ga37fb86a5ac856ecd92abbe614afc5cc8">mtb_hal_adc_start_convert</a></div><div class="ttdeci">cy_rslt_t mtb_hal_adc_start_convert(mtb_hal_adc_t *obj)</div><div class="ttdoc">Triggers start of conversion for all enabled channels.</div></div>
<div class="ttc" id="agroup__group__hal__adc_html_gab211ace287827ccd83473caa818474fe"><div class="ttname"><a href="group__group__hal__adc.html#gab211ace287827ccd83473caa818474fe">mtb_hal_adc_is_conversion_complete</a></div><div class="ttdeci">bool mtb_hal_adc_is_conversion_complete(const mtb_hal_adc_channel_t *obj)</div><div class="ttdoc">Returns true if the most recently triggered conversion has completed for the specified channel.</div></div>
<div class="ttc" id="agroup__group__result_html_gaf58fac450d9fff4472f03ad68f6e546e"><div class="ttname"><a href="group__group__result.html#gaf58fac450d9fff4472f03ad68f6e546e">CY_RSLT_SUCCESS</a></div><div class="ttdeci">#define CY_RSLT_SUCCESS</div><div class="ttdoc">cy_rslt_t return value indicating success</div><div class="ttdef"><b>Definition:</b> cy_result.h:506</div></div>
</div><!-- fragment --> <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
API Reference</h2></td></tr>
<tr class="memitem:group__group__hal__results__adc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__results__adc.html">ADC HAL Results</a></td></tr>
<tr class="memdesc:group__group__hal__results__adc"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC specific return codes. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaca5af65e04a892d71430cf9a3bb589cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__adc.html#gaca5af65e04a892d71430cf9a3bb589cf">mtb_hal_adc_setup</a> (mtb_hal_adc_t *obj, const mtb_hal_adc_configurator_t *config, <a class="el" href="structmtb__hal__clock__t.html">mtb_hal_clock_t</a> *clk, mtb_hal_adc_channel_t **channels)</td></tr>
<tr class="memdesc:gaca5af65e04a892d71430cf9a3bb589cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up a HAL instance to use the specified hardware resource.  <a href="group__group__hal__adc.html#gaca5af65e04a892d71430cf9a3bb589cf">More...</a><br /></td></tr>
<tr class="separator:gaca5af65e04a892d71430cf9a3bb589cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf81e53ff86c18a67d12cdecf48c956e6"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__adc.html#gaf81e53ff86c18a67d12cdecf48c956e6">mtb_hal_adc_read_u16</a> (const mtb_hal_adc_channel_t *obj)</td></tr>
<tr class="memdesc:gaf81e53ff86c18a67d12cdecf48c956e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the value from the ADC pin, represented as an unsigned 16bit value where 0x0000 represents the minimum value in the ADC's range, and 0xFFFF represents the maximum value in the ADC's range.  <a href="group__group__hal__adc.html#gaf81e53ff86c18a67d12cdecf48c956e6">More...</a><br /></td></tr>
<tr class="separator:gaf81e53ff86c18a67d12cdecf48c956e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab211ace287827ccd83473caa818474fe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__adc.html#gab211ace287827ccd83473caa818474fe">mtb_hal_adc_is_conversion_complete</a> (const mtb_hal_adc_channel_t *obj)</td></tr>
<tr class="memdesc:gab211ace287827ccd83473caa818474fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the most recently triggered conversion has completed for the specified channel.  <a href="group__group__hal__adc.html#gab211ace287827ccd83473caa818474fe">More...</a><br /></td></tr>
<tr class="separator:gab211ace287827ccd83473caa818474fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0281466b2261ce8fda1a401e7ed9241a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__adc.html#ga0281466b2261ce8fda1a401e7ed9241a">mtb_hal_adc_read_latest</a> (const mtb_hal_adc_channel_t *obj, int32_t *result)</td></tr>
<tr class="memdesc:ga0281466b2261ce8fda1a401e7ed9241a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the result of the most recent scan for the specified channel and writes it to the given <code>result</code> location.  <a href="group__group__hal__adc.html#ga0281466b2261ce8fda1a401e7ed9241a">More...</a><br /></td></tr>
<tr class="separator:ga0281466b2261ce8fda1a401e7ed9241a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad091cdef219683ffc4cc7260214b3ab1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__adc.html#gad091cdef219683ffc4cc7260214b3ab1">mtb_hal_adc_read_multiple</a> (mtb_hal_adc_channel_t **channels, uint32_t num_channels, int32_t *result)</td></tr>
<tr class="memdesc:gad091cdef219683ffc4cc7260214b3ab1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the value from the most recent scan for the specified set of ADC channels and writes it to the array specified by result.  <a href="group__group__hal__adc.html#gad091cdef219683ffc4cc7260214b3ab1">More...</a><br /></td></tr>
<tr class="separator:gad091cdef219683ffc4cc7260214b3ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37fb86a5ac856ecd92abbe614afc5cc8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__adc.html#ga37fb86a5ac856ecd92abbe614afc5cc8">mtb_hal_adc_start_convert</a> (mtb_hal_adc_t *obj)</td></tr>
<tr class="memdesc:ga37fb86a5ac856ecd92abbe614afc5cc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggers start of conversion for all enabled channels.  <a href="group__group__hal__adc.html#ga37fb86a5ac856ecd92abbe614afc5cc8">More...</a><br /></td></tr>
<tr class="separator:ga37fb86a5ac856ecd92abbe614afc5cc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaca5af65e04a892d71430cf9a3bb589cf" name="gaca5af65e04a892d71430cf9a3bb589cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaca5af65e04a892d71430cf9a3bb589cf">&#9670;&nbsp;</a></span>mtb_hal_adc_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_adc_setup </td>
          <td>(</td>
          <td class="paramtype">mtb_hal_adc_t *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mtb_hal_adc_configurator_t *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtb__hal__clock__t.html">mtb_hal_clock_t</a> *&#160;</td>
          <td class="paramname"><em>clk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mtb_hal_adc_channel_t **&#160;</td>
          <td class="paramname"><em>channels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up a HAL instance to use the specified hardware resource. </p>
<p >This hardware resource must have already been configured via the PDL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">obj</td><td>The HAL driver instance object. The caller must allocate the memory for this object, but the HAL will initialize its contents </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>The configurator-generated HAL config structure for this peripheral instance </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">clk</td><td>Clock instance that clocks this peripheral </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">channels</td><td>Array of channels used by the ADC. Unused channels should be passed as NULL </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the status of the HAL setup </dd></dl>

</div>
</div>
<a id="gaf81e53ff86c18a67d12cdecf48c956e6" name="gaf81e53ff86c18a67d12cdecf48c956e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf81e53ff86c18a67d12cdecf48c956e6">&#9670;&nbsp;</a></span>mtb_hal_adc_read_u16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t mtb_hal_adc_read_u16 </td>
          <td>(</td>
          <td class="paramtype">const mtb_hal_adc_channel_t *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the value from the ADC pin, represented as an unsigned 16bit value where 0x0000 represents the minimum value in the ADC's range, and 0xFFFF represents the maximum value in the ADC's range. </p>
<p >If continous scanning is disabled, this will block while a conversion is performed on the selected channel, then return the result. Depending on the ADC speed this function may block for some time. If continuous scanning is enabled, this will return the value from the most recent conversion of the specified channel (if called shortly after enabling continuous scanning it may block until at least one conversion has been performed on this channel).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The ADC object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An unsigned 16bit value representing the current input voltage </dd></dl>

</div>
</div>
<a id="gab211ace287827ccd83473caa818474fe" name="gab211ace287827ccd83473caa818474fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab211ace287827ccd83473caa818474fe">&#9670;&nbsp;</a></span>mtb_hal_adc_is_conversion_complete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mtb_hal_adc_is_conversion_complete </td>
          <td>(</td>
          <td class="paramtype">const mtb_hal_adc_channel_t *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the most recently triggered conversion has completed for the specified channel. </p>
<p >If continuous conversion is enabled, returns true if at least one conversion has completed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The ADC object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if conversion completed, false if still ongoing </dd></dl>

</div>
</div>
<a id="ga0281466b2261ce8fda1a401e7ed9241a" name="ga0281466b2261ce8fda1a401e7ed9241a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0281466b2261ce8fda1a401e7ed9241a">&#9670;&nbsp;</a></span>mtb_hal_adc_read_latest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_adc_read_latest </td>
          <td>(</td>
          <td class="paramtype">const mtb_hal_adc_channel_t *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the result of the most recent scan for the specified channel and writes it to the given <code>result</code> location. </p>
<p >This function will return the latest available value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The ADC object </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">result</td><td>Scanned result </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the read operation </dd></dl>

</div>
</div>
<a id="gad091cdef219683ffc4cc7260214b3ab1" name="gad091cdef219683ffc4cc7260214b3ab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad091cdef219683ffc4cc7260214b3ab1">&#9670;&nbsp;</a></span>mtb_hal_adc_read_multiple()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_adc_read_multiple </td>
          <td>(</td>
          <td class="paramtype">mtb_hal_adc_channel_t **&#160;</td>
          <td class="paramname"><em>channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num_channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the value from the most recent scan for the specified set of ADC channels and writes it to the array specified by result. </p>
<p >If a conversion has not completed for one or more of the specified channels, it will return error and will not update value to the array. "channels" and "result" list must have "num_channels" space in order to get ADC channels and store the results respectively.</p>
<p >This function will return the latest available value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channels</td><td>The ADC channels object pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_channels</td><td>The number of ADC channels </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">result</td><td>Scanned result </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the read operation </dd></dl>

</div>
</div>
<a id="ga37fb86a5ac856ecd92abbe614afc5cc8" name="ga37fb86a5ac856ecd92abbe614afc5cc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga37fb86a5ac856ecd92abbe614afc5cc8">&#9670;&nbsp;</a></span>mtb_hal_adc_start_convert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_adc_start_convert </td>
          <td>(</td>
          <td class="paramtype">mtb_hal_adc_t *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Triggers start of conversion for all enabled channels. </p>
<p >The function returns without waiting for the conversion to complete.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The ADC object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the conversion request </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>Hardware Abstraction Layer (HAL)</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
