<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hardware Abstraction Layer (HAL)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hardware Abstraction Layer (HAL)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__group__hal__nvm.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">API Reference</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">NVM (Onboard Non-Volatile Memory)<div class="ingroups"><a class="el" href="group__group__hal.html">HAL Drivers</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<p >High level interface to the onboard Non-Volatile memory (Internal Flash, RRAM, OTP region). </p>
<p >Onboard NVM provides non-volatile storage for factory settings, secure data, user firmware, configuration, and bulk data.</p>
<p >This driver allows data to be read from and written to NVM. It also provides the ability to obtain information about the address and characteristics of the NVM block(s) contained on the device. During NVM write time, the device should not be reset (including XRES pin, software reset, and watchdog) or unexpected changes may be made to portions of the NVM. Also, the low-voltage detect circuits should be configured to generate an interrupt instead of a reset.</p>
<dl class="section note"><dt>Note</dt><dd>A Read while Write violation may occur for some devices when a NVM Read operation is initiated in the same or neighboring NVM sector/region where the NVM Write, Erase(if applicable), or Program operation is working. Refer the device datasheet for more information. This violation may cause a HardFault exception. To avoid the Read while Write violation, the user must carefully split the Read and Write operations on NVM sectors/regions which are not neighboring, considering all cores in a multi-processor device. User may edit the linker script to place the code into neighboring sectors/regions. For example, use sectors number 0 and 1 for code and sectors 2 and 3 for data storage.</dd></dl>
<h1><a class="anchor" id="hal_nvm_features"></a>
Features</h1>
<ul>
<li>NVM operations are performed on a per-block (program) or per-sector (erase if applicable) basis (Refer the device datasheet for more information on the block size)</li>
<li>Supports Blocking or Non-Blocking erase(if applicable), program, and write </li>
</ul>
<h1><a class="anchor" id="hal_nvm_code_snippet"></a>
Code Snippets</h1>
<h2><a class="anchor" id="subsection_nvm_use_case_1"></a>
Snippet 1: Get NVM Characteristics</h2>
<p >Following code snippet demonstrates how to fetch NVM characteristics. Refer <a class="el" href="group__group__hal__nvm.html#structmtb__hal__nvm__info__t">mtb_hal_nvm_info_t</a> for more information. </p><div class="fragment"><div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="group__group__hal__impl__hw__types.html#structmtb__hal__nvm__t">mtb_hal_nvm_t</a>       nvm_obj;</div>
<div class="line">    <a class="code hl_struct" href="group__group__hal__nvm.html#structmtb__hal__nvm__info__t">mtb_hal_nvm_info_t</a>  nvm_info;</div>
<div class="line">    <a class="code hl_enumeration" href="group__group__hal__nvm.html#gab994ef1ffec2465000dde7b9a3c7bb22">mtb_hal_nvm_type_t</a>  nvm_type = <a class="code hl_enumvalue" href="group__group__hal__nvm.html#ggab994ef1ffec2465000dde7b9a3c7bb22a9dd70e0cf0f84cb97f62faf8a2219de6">MTB_HAL_NVM_TYPE_FLASH</a>;</div>
<div class="line">    uint32_t            nvm_start_address   = 0;</div>
<div class="line">    uint32_t            nvm_size            = 0;</div>
<div class="line">    uint32_t            nvm_sector_size     = 0;</div>
<div class="line">    uint32_t            nvm_block_size      = 0;</div>
<div class="line">    uint8_t             nvm_erase_value     = 0;</div>
<div class="line">    <span class="keywordtype">bool</span>                is_erase_required   = <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">    mtb_hal_nvm_setup(&amp;nvm_obj, NULL);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Get NVM characteristics like NVM type, number of NVM regions and their organization</span></div>
<div class="line">    <a class="code hl_function" href="group__group__hal__nvm.html#gaf20b671cff2959aeb545f15b0ab27b29">mtb_hal_nvm_get_info</a>(&amp;nvm_obj, &amp;nvm_info);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> index = 0; index &lt; nvm_info.<a class="code hl_variable" href="group__group__hal__nvm.html#a65c06df727ec049daafae955c195f984">region_count</a>; index++)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <a class="code hl_struct" href="group__group__hal__nvm.html#structmtb__hal__nvm__region__info__t">mtb_hal_nvm_region_info_t</a>* region_info = nvm_info.<a class="code hl_variable" href="group__group__hal__nvm.html#a17c1a11f78a4da1a14c127f2d3da2698">regions</a>;</div>
<div class="line">        region_info         += index;</div>
<div class="line">        nvm_type            = region_info-&gt;<a class="code hl_variable" href="group__group__hal__nvm.html#a839dd07915b0102fea376099148e9f93">nvm_type</a>;</div>
<div class="line">        nvm_start_address   = region_info-&gt;<a class="code hl_variable" href="group__group__hal__nvm.html#ad583006fcebf0a48dcf88f48d115ea27">start_address</a>;</div>
<div class="line">        nvm_size            = region_info-&gt;<a class="code hl_variable" href="group__group__hal__nvm.html#a68cffdca107870ae4476022817aad195">size</a>;</div>
<div class="line">        nvm_sector_size     = region_info-&gt;<a class="code hl_variable" href="group__group__hal__nvm.html#a2ecef525293d19104f82025fe279fdba">sector_size</a>;</div>
<div class="line">        nvm_block_size      = region_info-&gt;<a class="code hl_variable" href="group__group__hal__nvm.html#a8e2cdda5dd52a7ca948f0201b015ace7">block_size</a>;</div>
<div class="line">        is_erase_required   = region_info-&gt;<a class="code hl_variable" href="group__group__hal__nvm.html#a866a445ac14ab6df5961785a417bb9eb">is_erase_required</a>;</div>
<div class="line">        nvm_erase_value     = region_info-&gt;<a class="code hl_variable" href="group__group__hal__nvm.html#a95d63fe2e9894fc6e9b5af545d5b1606">erase_value</a>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="ttc" id="agroup__group__hal__impl__hw__types_html_structmtb__hal__nvm__t"><div class="ttname"><a href="group__group__hal__impl__hw__types.html#structmtb__hal__nvm__t">mtb_hal_nvm_t</a></div><div class="ttdoc">NVM object.</div><div class="ttdef"><b>Definition:</b> mtb_hal_hw_types_nvm.h:67</div></div>
<div class="ttc" id="agroup__group__hal__nvm_html_a17c1a11f78a4da1a14c127f2d3da2698"><div class="ttname"><a href="group__group__hal__nvm.html#a17c1a11f78a4da1a14c127f2d3da2698">mtb_hal_nvm_info_t::regions</a></div><div class="ttdeci">const mtb_hal_nvm_region_info_t * regions</div><div class="ttdoc">Array of the distinct NVM regions.</div><div class="ttdef"><b>Definition:</b> mtb_hal_nvm.h:139</div></div>
<div class="ttc" id="agroup__group__hal__nvm_html_a2ecef525293d19104f82025fe279fdba"><div class="ttname"><a href="group__group__hal__nvm.html#a2ecef525293d19104f82025fe279fdba">mtb_hal_nvm_region_info_t::sector_size</a></div><div class="ttdeci">uint32_t sector_size</div><div class="ttdoc">Sector size of the distinct NVM region.</div><div class="ttdef"><b>Definition:</b> mtb_hal_nvm.h:127</div></div>
<div class="ttc" id="agroup__group__hal__nvm_html_a65c06df727ec049daafae955c195f984"><div class="ttname"><a href="group__group__hal__nvm.html#a65c06df727ec049daafae955c195f984">mtb_hal_nvm_info_t::region_count</a></div><div class="ttdeci">uint8_t region_count</div><div class="ttdoc">The number of distinct NVM regions.</div><div class="ttdef"><b>Definition:</b> mtb_hal_nvm.h:138</div></div>
<div class="ttc" id="agroup__group__hal__nvm_html_a68cffdca107870ae4476022817aad195"><div class="ttname"><a href="group__group__hal__nvm.html#a68cffdca107870ae4476022817aad195">mtb_hal_nvm_region_info_t::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdoc">Size of the distinct NVM region.</div><div class="ttdef"><b>Definition:</b> mtb_hal_nvm.h:126</div></div>
<div class="ttc" id="agroup__group__hal__nvm_html_a839dd07915b0102fea376099148e9f93"><div class="ttname"><a href="group__group__hal__nvm.html#a839dd07915b0102fea376099148e9f93">mtb_hal_nvm_region_info_t::nvm_type</a></div><div class="ttdeci">mtb_hal_nvm_type_t nvm_type</div><div class="ttdoc">NVM type.</div><div class="ttdef"><b>Definition:</b> mtb_hal_nvm.h:122</div></div>
<div class="ttc" id="agroup__group__hal__nvm_html_a866a445ac14ab6df5961785a417bb9eb"><div class="ttname"><a href="group__group__hal__nvm.html#a866a445ac14ab6df5961785a417bb9eb">mtb_hal_nvm_region_info_t::is_erase_required</a></div><div class="ttdeci">bool is_erase_required</div><div class="ttdoc">true = erase required before program, false = erase not required before program.</div><div class="ttdef"><b>Definition:</b> mtb_hal_nvm.h:130</div></div>
<div class="ttc" id="agroup__group__hal__nvm_html_a8e2cdda5dd52a7ca948f0201b015ace7"><div class="ttname"><a href="group__group__hal__nvm.html#a8e2cdda5dd52a7ca948f0201b015ace7">mtb_hal_nvm_region_info_t::block_size</a></div><div class="ttdeci">uint32_t block_size</div><div class="ttdoc">Block size (programming granularity) of the distinct NVM region.</div><div class="ttdef"><b>Definition:</b> mtb_hal_nvm.h:128</div></div>
<div class="ttc" id="agroup__group__hal__nvm_html_a95d63fe2e9894fc6e9b5af545d5b1606"><div class="ttname"><a href="group__group__hal__nvm.html#a95d63fe2e9894fc6e9b5af545d5b1606">mtb_hal_nvm_region_info_t::erase_value</a></div><div class="ttdeci">uint8_t erase_value</div><div class="ttdoc">NVM erase value (if applicable).</div><div class="ttdef"><b>Definition:</b> mtb_hal_nvm.h:132</div></div>
<div class="ttc" id="agroup__group__hal__nvm_html_ad583006fcebf0a48dcf88f48d115ea27"><div class="ttname"><a href="group__group__hal__nvm.html#ad583006fcebf0a48dcf88f48d115ea27">mtb_hal_nvm_region_info_t::start_address</a></div><div class="ttdeci">uint32_t start_address</div><div class="ttdoc">Base address of the distinct NVM region.</div><div class="ttdef"><b>Definition:</b> mtb_hal_nvm.h:123</div></div>
<div class="ttc" id="agroup__group__hal__nvm_html_gab994ef1ffec2465000dde7b9a3c7bb22"><div class="ttname"><a href="group__group__hal__nvm.html#gab994ef1ffec2465000dde7b9a3c7bb22">mtb_hal_nvm_type_t</a></div><div class="ttdeci">mtb_hal_nvm_type_t</div><div class="ttdoc">Enum of Non-volatile memory (NVM) types.</div><div class="ttdef"><b>Definition:</b> mtb_hal_nvm.h:112</div></div>
<div class="ttc" id="agroup__group__hal__nvm_html_gaf20b671cff2959aeb545f15b0ab27b29"><div class="ttname"><a href="group__group__hal__nvm.html#gaf20b671cff2959aeb545f15b0ab27b29">mtb_hal_nvm_get_info</a></div><div class="ttdeci">void mtb_hal_nvm_get_info(mtb_hal_nvm_t *obj, mtb_hal_nvm_info_t *info)</div><div class="ttdoc">Get details about the NVM memory regions such as NVM type, start address, size, is_erase_required,...</div><div class="ttdef"><b>Definition:</b> mtb_hal_nvm.c:46</div></div>
<div class="ttc" id="agroup__group__hal__nvm_html_ggab994ef1ffec2465000dde7b9a3c7bb22a9dd70e0cf0f84cb97f62faf8a2219de6"><div class="ttname"><a href="group__group__hal__nvm.html#ggab994ef1ffec2465000dde7b9a3c7bb22a9dd70e0cf0f84cb97f62faf8a2219de6">MTB_HAL_NVM_TYPE_FLASH</a></div><div class="ttdeci">@ MTB_HAL_NVM_TYPE_FLASH</div><div class="ttdoc">Internal Flash.</div><div class="ttdef"><b>Definition:</b> mtb_hal_nvm.h:114</div></div>
<div class="ttc" id="agroup__group__hal__nvm_html_structmtb__hal__nvm__info__t"><div class="ttname"><a href="group__group__hal__nvm.html#structmtb__hal__nvm__info__t">mtb_hal_nvm_info_t</a></div><div class="ttdoc">Information about all of the regions of NVM memory.</div><div class="ttdef"><b>Definition:</b> mtb_hal_nvm.h:137</div></div>
<div class="ttc" id="agroup__group__hal__nvm_html_structmtb__hal__nvm__region__info__t"><div class="ttname"><a href="group__group__hal__nvm.html#structmtb__hal__nvm__region__info__t">mtb_hal_nvm_region_info_t</a></div><div class="ttdoc">Information about a single region of NVM memory.</div><div class="ttdef"><b>Definition:</b> mtb_hal_nvm.h:121</div></div>
</div><!-- fragment --><h2><a class="anchor" id="subsection_nvm_use_case_2"></a>
Snippet 2: Blocking NVM Erase-Write and Read</h2>
<p >Following code snippet demonstrates blocking NVM write. It uses a constant array with a size equaling the size of one NVM row/block. It uses blocking NVM write operation which blocks the caller until the write is completed. It then verifies the NVM data by comparing the NVM data with the written data. </p><div class="fragment"><div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="group__group__hal__impl__hw__types.html#structmtb__hal__nvm__t">mtb_hal_nvm_t</a>      nvm_obj;</div>
<div class="line">    <a class="code hl_struct" href="group__group__hal__nvm.html#structmtb__hal__nvm__info__t">mtb_hal_nvm_info_t</a> nvm_info;</div>
<div class="line">    <a class="code hl_typedef" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>          result = <a class="code hl_define" href="group__group__result.html#gaf58fac450d9fff4472f03ad68f6e546e">CY_RSLT_SUCCESS</a>; <span class="comment">// NVM Write Status</span></div>
<div class="line">    uint8_t            ram_data[512];            <span class="comment">// RAM data to be written to NVM</span></div>
<div class="line">    uint8_t            nvm_read_data[512];       <span class="comment">// RAM data read from NVM for validation</span></div>
<div class="line">    <span class="keywordtype">bool</span>               compare_status = <span class="keyword">false</span>;   <span class="comment">// Compare Status</span></div>
<div class="line">    uint32_t           nvm_addr;</div>
<div class="line"> </div>
<div class="line">    mtb_hal_nvm_setup(&amp;nvm_obj, NULL);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Get NVM characteristics like number of NVM regions, type, and their organization</span></div>
<div class="line">    <a class="code hl_function" href="group__group__hal__nvm.html#gaf20b671cff2959aeb545f15b0ab27b29">mtb_hal_nvm_get_info</a>(&amp;nvm_obj, &amp;nvm_info);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// NVM region 0 last block</span></div>
<div class="line">    uint32_t block_num = (nvm_info.<a class="code hl_variable" href="group__group__hal__nvm.html#a17c1a11f78a4da1a14c127f2d3da2698">regions</a>[0].<a class="code hl_variable" href="group__group__hal__nvm.html#a68cffdca107870ae4476022817aad195">size</a>/nvm_info.<a class="code hl_variable" href="group__group__hal__nvm.html#a17c1a11f78a4da1a14c127f2d3da2698">regions</a>[0].<a class="code hl_variable" href="group__group__hal__nvm.html#a8e2cdda5dd52a7ca948f0201b015ace7">block_size</a>) - 1;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// NVM region 0 last block address</span></div>
<div class="line">    nvm_addr = nvm_info.<a class="code hl_variable" href="group__group__hal__nvm.html#a17c1a11f78a4da1a14c127f2d3da2698">regions</a>[0].<a class="code hl_variable" href="group__group__hal__nvm.html#ad583006fcebf0a48dcf88f48d115ea27">start_address</a> + (block_num * nvm_info.<a class="code hl_variable" href="group__group__hal__nvm.html#a17c1a11f78a4da1a14c127f2d3da2698">regions</a>[0].<a class="code hl_variable" href="group__group__hal__nvm.html#a8e2cdda5dd52a7ca948f0201b015ace7">block_size</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the data in RAM that will be written into NVM</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> index = 0; index &lt; <span class="keyword">sizeof</span>(ram_data); index++)</div>
<div class="line">    {</div>
<div class="line">        ram_data[index] = (uint8_t)index;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (nvm_info.<a class="code hl_variable" href="group__group__hal__nvm.html#a17c1a11f78a4da1a14c127f2d3da2698">regions</a>[0].<a class="code hl_variable" href="group__group__hal__nvm.html#a866a445ac14ab6df5961785a417bb9eb">is_erase_required</a>) <span class="comment">// Check if erase is required on the given NVM type</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Blocking NVM erase prior to NVM write</span></div>
<div class="line">        result = <a class="code hl_function" href="group__group__hal__nvm.html#ga13baf4216ead141362b679bd28010410">mtb_hal_nvm_erase</a>(&amp;nvm_obj, nvm_addr);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (result == <a class="code hl_define" href="group__group__result.html#gaf58fac450d9fff4472f03ad68f6e546e">CY_RSLT_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Blocking NVM write</span></div>
<div class="line">        result = <a class="code hl_function" href="group__group__hal__nvm.html#ga8cdcebb8414ed7e4ee053951909cc22b">mtb_hal_nvm_program</a>(&amp;nvm_obj, nvm_addr, (<span class="keyword">const</span> uint32_t*)ram_data);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (result == <a class="code hl_define" href="group__group__result.html#gaf58fac450d9fff4472f03ad68f6e546e">CY_RSLT_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Read NVM data</span></div>
<div class="line">            result =</div>
<div class="line">                <a class="code hl_function" href="group__group__hal__nvm.html#ga9dce2f8a935a571e9f1d322b00482b99">mtb_hal_nvm_read</a>(&amp;nvm_obj, (uint32_t)nvm_addr, nvm_read_data,</div>
<div class="line">                                 <span class="keyword">sizeof</span>(nvm_read_data));</div>
<div class="line">            <span class="keywordflow">if</span> (result == <a class="code hl_define" href="group__group__result.html#gaf58fac450d9fff4472f03ad68f6e546e">CY_RSLT_SUCCESS</a>)</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Verify the data written into NVM by comparing it with the RAM data</span></div>
<div class="line">                <span class="keywordflow">if</span> (0 == memcmp(ram_data, nvm_read_data, <span class="keyword">sizeof</span>(nvm_read_data)))</div>
<div class="line">                {</div>
<div class="line">                    compare_status = <span class="keyword">true</span>;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error erasing NVM</span></div>
<div class="line">    }</div>
<div class="ttc" id="agroup__group__hal__nvm_html_ga13baf4216ead141362b679bd28010410"><div class="ttname"><a href="group__group__hal__nvm.html#ga13baf4216ead141362b679bd28010410">mtb_hal_nvm_erase</a></div><div class="ttdeci">cy_rslt_t mtb_hal_nvm_erase(mtb_hal_nvm_t *obj, uint32_t address)</div><div class="ttdoc">Erase one block of NVM starting at the given address.</div><div class="ttdef"><b>Definition:</b> mtb_hal_nvm.c:118</div></div>
<div class="ttc" id="agroup__group__hal__nvm_html_ga8cdcebb8414ed7e4ee053951909cc22b"><div class="ttname"><a href="group__group__hal__nvm.html#ga8cdcebb8414ed7e4ee053951909cc22b">mtb_hal_nvm_program</a></div><div class="ttdeci">cy_rslt_t mtb_hal_nvm_program(mtb_hal_nvm_t *obj, uint32_t address, const uint32_t *data)</div><div class="ttdoc">Program one block with the provided data starting at the given address.</div><div class="ttdef"><b>Definition:</b> mtb_hal_nvm.c:238</div></div>
<div class="ttc" id="agroup__group__hal__nvm_html_ga9dce2f8a935a571e9f1d322b00482b99"><div class="ttname"><a href="group__group__hal__nvm.html#ga9dce2f8a935a571e9f1d322b00482b99">mtb_hal_nvm_read</a></div><div class="ttdeci">cy_rslt_t mtb_hal_nvm_read(mtb_hal_nvm_t *obj, uint32_t address, uint8_t *data, size_t size)</div><div class="ttdoc">Read size amount of data starting from the given address of NVM.</div><div class="ttdef"><b>Definition:</b> mtb_hal_nvm.c:60</div></div>
<div class="ttc" id="agroup__group__result_html_gaca79700fcc701534ce61778a9bcf57d1"><div class="ttname"><a href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a></div><div class="ttdeci">uint32_t cy_rslt_t</div><div class="ttdoc">Provides the result of an operation as a structured bitfield.</div><div class="ttdef"><b>Definition:</b> cy_result.h:479</div></div>
<div class="ttc" id="agroup__group__result_html_gaf58fac450d9fff4472f03ad68f6e546e"><div class="ttname"><a href="group__group__result.html#gaf58fac450d9fff4472f03ad68f6e546e">CY_RSLT_SUCCESS</a></div><div class="ttdeci">#define CY_RSLT_SUCCESS</div><div class="ttdoc">cy_rslt_t return value indicating success</div><div class="ttdef"><b>Definition:</b> cy_result.h:506</div></div>
</div><!-- fragment --> <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
API Reference</h2></td></tr>
<tr class="memitem:group__group__hal__results__nvm"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__results__nvm.html">NVM HAL Results</a></td></tr>
<tr class="memdesc:group__group__hal__results__nvm"><td class="mdescLeft">&#160;</td><td class="mdescRight">NVM specific return codes. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structmtb__hal__nvm__region__info__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__nvm.html#structmtb__hal__nvm__region__info__t">mtb_hal_nvm_region_info_t</a></td></tr>
<tr class="memdesc:structmtb__hal__nvm__region__info__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about a single region of NVM memory.  <a href="group__group__hal__nvm.html#structmtb__hal__nvm__region__info__t">More...</a><br /></td></tr>
<tr class="separator:structmtb__hal__nvm__region__info__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structmtb__hal__nvm__info__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__nvm.html#structmtb__hal__nvm__info__t">mtb_hal_nvm_info_t</a></td></tr>
<tr class="memdesc:structmtb__hal__nvm__info__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about all of the regions of NVM memory.  <a href="group__group__hal__nvm.html#structmtb__hal__nvm__info__t">More...</a><br /></td></tr>
<tr class="separator:structmtb__hal__nvm__info__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gab994ef1ffec2465000dde7b9a3c7bb22"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__nvm.html#gab994ef1ffec2465000dde7b9a3c7bb22">mtb_hal_nvm_type_t</a> { <br />
&#160;&#160;<a class="el" href="group__group__hal__nvm.html#ggab994ef1ffec2465000dde7b9a3c7bb22ac88b8f9853cf36ff04891b550cdefc3a">MTB_HAL_NVM_TYPE_INVALID</a> = 0U
, <br />
&#160;&#160;<a class="el" href="group__group__hal__nvm.html#ggab994ef1ffec2465000dde7b9a3c7bb22a9dd70e0cf0f84cb97f62faf8a2219de6">MTB_HAL_NVM_TYPE_FLASH</a> = 1U
, <br />
&#160;&#160;<a class="el" href="group__group__hal__nvm.html#ggab994ef1ffec2465000dde7b9a3c7bb22a54e0d9ccea2bea2c4738c4bf9576ac94">MTB_HAL_NVM_TYPE_RRAM</a> = 2U
, <br />
&#160;&#160;<a class="el" href="group__group__hal__nvm.html#ggab994ef1ffec2465000dde7b9a3c7bb22afee4f45916b851156688de5208f2570f">MTB_HAL_NVM_TYPE_OTP</a> = 3U
<br />
 }</td></tr>
<tr class="memdesc:gab994ef1ffec2465000dde7b9a3c7bb22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum of Non-volatile memory (NVM) types.  <a href="group__group__hal__nvm.html#gab994ef1ffec2465000dde7b9a3c7bb22">More...</a><br /></td></tr>
<tr class="separator:gab994ef1ffec2465000dde7b9a3c7bb22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf20b671cff2959aeb545f15b0ab27b29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__nvm.html#gaf20b671cff2959aeb545f15b0ab27b29">mtb_hal_nvm_get_info</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__nvm__t">mtb_hal_nvm_t</a> *obj, <a class="el" href="group__group__hal__nvm.html#structmtb__hal__nvm__info__t">mtb_hal_nvm_info_t</a> *info)</td></tr>
<tr class="memdesc:gaf20b671cff2959aeb545f15b0ab27b29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get details about the NVM memory regions such as NVM type, start address, size, is_erase_required, and erase values etc.  <a href="group__group__hal__nvm.html#gaf20b671cff2959aeb545f15b0ab27b29">More...</a><br /></td></tr>
<tr class="separator:gaf20b671cff2959aeb545f15b0ab27b29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9dce2f8a935a571e9f1d322b00482b99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__nvm.html#ga9dce2f8a935a571e9f1d322b00482b99">mtb_hal_nvm_read</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__nvm__t">mtb_hal_nvm_t</a> *obj, uint32_t address, uint8_t *data, size_t size)</td></tr>
<tr class="memdesc:ga9dce2f8a935a571e9f1d322b00482b99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read size amount of data starting from the given address of NVM.  <a href="group__group__hal__nvm.html#ga9dce2f8a935a571e9f1d322b00482b99">More...</a><br /></td></tr>
<tr class="separator:ga9dce2f8a935a571e9f1d322b00482b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13baf4216ead141362b679bd28010410"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__nvm.html#ga13baf4216ead141362b679bd28010410">mtb_hal_nvm_erase</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__nvm__t">mtb_hal_nvm_t</a> *obj, uint32_t address)</td></tr>
<tr class="memdesc:ga13baf4216ead141362b679bd28010410"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase one block of NVM starting at the given address.  <a href="group__group__hal__nvm.html#ga13baf4216ead141362b679bd28010410">More...</a><br /></td></tr>
<tr class="separator:ga13baf4216ead141362b679bd28010410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53d4f68eb314bbb6994bffa6087b1258"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__nvm.html#ga53d4f68eb314bbb6994bffa6087b1258">mtb_hal_nvm_write</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__nvm__t">mtb_hal_nvm_t</a> *obj, uint32_t address, const uint32_t *data)</td></tr>
<tr class="memdesc:ga53d4f68eb314bbb6994bffa6087b1258"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function erases the block, if required, and writes the new data into the block starting at the given address.  <a href="group__group__hal__nvm.html#ga53d4f68eb314bbb6994bffa6087b1258">More...</a><br /></td></tr>
<tr class="separator:ga53d4f68eb314bbb6994bffa6087b1258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8cdcebb8414ed7e4ee053951909cc22b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__nvm.html#ga8cdcebb8414ed7e4ee053951909cc22b">mtb_hal_nvm_program</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__nvm__t">mtb_hal_nvm_t</a> *obj, uint32_t address, const uint32_t *data)</td></tr>
<tr class="memdesc:ga8cdcebb8414ed7e4ee053951909cc22b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Program one block with the provided data starting at the given address.  <a href="group__group__hal__nvm.html#ga8cdcebb8414ed7e4ee053951909cc22b">More...</a><br /></td></tr>
<tr class="separator:ga8cdcebb8414ed7e4ee053951909cc22b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafb0fe80c7f3b8babd580cf8b238e43c5"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__group__hal__nvm.html#structmtb__hal__nvm__region__info__t">mtb_hal_nvm_region_info_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__nvm.html#gafb0fe80c7f3b8babd580cf8b238e43c5">mtb_hal_nvm_get_region_for_address</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__nvm__t">mtb_hal_nvm_t</a> *obj, uint32_t addr, uint32_t length)</td></tr>
<tr class="memdesc:gafb0fe80c7f3b8babd580cf8b238e43c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the nvm region based on given address and length.  <a href="group__group__hal__nvm.html#gafb0fe80c7f3b8babd580cf8b238e43c5">More...</a><br /></td></tr>
<tr class="separator:gafb0fe80c7f3b8babd580cf8b238e43c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structmtb__hal__nvm__region__info__t" id="structmtb__hal__nvm__region__info__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structmtb__hal__nvm__region__info__t">&#9670;&nbsp;</a></span>mtb_hal_nvm_region_info_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct mtb_hal_nvm_region_info_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a839dd07915b0102fea376099148e9f93" name="a839dd07915b0102fea376099148e9f93"></a><a class="el" href="group__group__hal__nvm.html#gab994ef1ffec2465000dde7b9a3c7bb22">mtb_hal_nvm_type_t</a></td>
<td class="fieldname">
nvm_type</td>
<td class="fielddoc">
NVM type. </td></tr>
<tr><td class="fieldtype">
<a id="ad583006fcebf0a48dcf88f48d115ea27" name="ad583006fcebf0a48dcf88f48d115ea27"></a>uint32_t</td>
<td class="fieldname">
start_address</td>
<td class="fielddoc">
Base address of the distinct NVM region. </td></tr>
<tr><td class="fieldtype">
<a id="ab46ac70a6b0a62fe75ebfd7e069082a4" name="ab46ac70a6b0a62fe75ebfd7e069082a4"></a>uint32_t</td>
<td class="fieldname">
offset</td>
<td class="fielddoc">
Offset to the address in the distinct NVM region. </td></tr>
<tr><td class="fieldtype">
<a id="a68cffdca107870ae4476022817aad195" name="a68cffdca107870ae4476022817aad195"></a>uint32_t</td>
<td class="fieldname">
size</td>
<td class="fielddoc">
Size of the distinct NVM region. </td></tr>
<tr><td class="fieldtype">
<a id="a2ecef525293d19104f82025fe279fdba" name="a2ecef525293d19104f82025fe279fdba"></a>uint32_t</td>
<td class="fieldname">
sector_size</td>
<td class="fielddoc">
Sector size of the distinct NVM region. </td></tr>
<tr><td class="fieldtype">
<a id="a8e2cdda5dd52a7ca948f0201b015ace7" name="a8e2cdda5dd52a7ca948f0201b015ace7"></a>uint32_t</td>
<td class="fieldname">
block_size</td>
<td class="fielddoc">
Block size (programming granularity) of the distinct NVM region. </td></tr>
<tr><td class="fieldtype">
<a id="a866a445ac14ab6df5961785a417bb9eb" name="a866a445ac14ab6df5961785a417bb9eb"></a>bool</td>
<td class="fieldname">
is_erase_required</td>
<td class="fielddoc">
true = erase required before program, false = erase not required before program. </td></tr>
<tr><td class="fieldtype">
<a id="a95d63fe2e9894fc6e9b5af545d5b1606" name="a95d63fe2e9894fc6e9b5af545d5b1606"></a>uint8_t</td>
<td class="fieldname">
erase_value</td>
<td class="fielddoc">
NVM erase value (if applicable). </td></tr>
</table>

</div>
</div>
<a name="structmtb__hal__nvm__info__t" id="structmtb__hal__nvm__info__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structmtb__hal__nvm__info__t">&#9670;&nbsp;</a></span>mtb_hal_nvm_info_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct mtb_hal_nvm_info_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a65c06df727ec049daafae955c195f984" name="a65c06df727ec049daafae955c195f984"></a>uint8_t</td>
<td class="fieldname">
region_count</td>
<td class="fielddoc">
The number of distinct NVM regions. </td></tr>
<tr><td class="fieldtype">
<a id="a17c1a11f78a4da1a14c127f2d3da2698" name="a17c1a11f78a4da1a14c127f2d3da2698"></a>const <a class="el" href="group__group__hal__nvm.html#structmtb__hal__nvm__region__info__t">mtb_hal_nvm_region_info_t</a> *</td>
<td class="fieldname">
regions</td>
<td class="fielddoc">
Array of the distinct NVM regions. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gab994ef1ffec2465000dde7b9a3c7bb22" name="gab994ef1ffec2465000dde7b9a3c7bb22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab994ef1ffec2465000dde7b9a3c7bb22">&#9670;&nbsp;</a></span>mtb_hal_nvm_type_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__group__hal__nvm.html#gab994ef1ffec2465000dde7b9a3c7bb22">mtb_hal_nvm_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enum of Non-volatile memory (NVM) types. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggab994ef1ffec2465000dde7b9a3c7bb22ac88b8f9853cf36ff04891b550cdefc3a" name="ggab994ef1ffec2465000dde7b9a3c7bb22ac88b8f9853cf36ff04891b550cdefc3a"></a>MTB_HAL_NVM_TYPE_INVALID&#160;</td><td class="fielddoc"><p >Invalid type of NVM. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab994ef1ffec2465000dde7b9a3c7bb22a9dd70e0cf0f84cb97f62faf8a2219de6" name="ggab994ef1ffec2465000dde7b9a3c7bb22a9dd70e0cf0f84cb97f62faf8a2219de6"></a>MTB_HAL_NVM_TYPE_FLASH&#160;</td><td class="fielddoc"><p >Internal Flash. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab994ef1ffec2465000dde7b9a3c7bb22a54e0d9ccea2bea2c4738c4bf9576ac94" name="ggab994ef1ffec2465000dde7b9a3c7bb22a54e0d9ccea2bea2c4738c4bf9576ac94"></a>MTB_HAL_NVM_TYPE_RRAM&#160;</td><td class="fielddoc"><p >RRAM. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab994ef1ffec2465000dde7b9a3c7bb22afee4f45916b851156688de5208f2570f" name="ggab994ef1ffec2465000dde7b9a3c7bb22afee4f45916b851156688de5208f2570f"></a>MTB_HAL_NVM_TYPE_OTP&#160;</td><td class="fielddoc"><p >OTP. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf20b671cff2959aeb545f15b0ab27b29" name="gaf20b671cff2959aeb545f15b0ab27b29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf20b671cff2959aeb545f15b0ab27b29">&#9670;&nbsp;</a></span>mtb_hal_nvm_get_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mtb_hal_nvm_get_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__nvm__t">mtb_hal_nvm_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__hal__nvm.html#structmtb__hal__nvm__info__t">mtb_hal_nvm_info_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get details about the NVM memory regions such as NVM type, start address, size, is_erase_required, and erase values etc. </p>
<p >Refer <a class="el" href="group__group__hal__nvm.html#structmtb__hal__nvm__info__t">mtb_hal_nvm_info_t</a>, <a class="el" href="group__group__hal__nvm.html#structmtb__hal__nvm__region__info__t" title="Information about a single region of NVM memory.">mtb_hal_nvm_region_info_t</a> for more information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The NVM object. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">info</td><td>The NVM characteristic info.</td></tr>
  </table>
  </dd>
</dl>
<p>Refer <a class="el" href="group__group__hal__nvm.html#subsection_nvm_use_case_1">Snippet 1: Get NVM Characteristics</a> for more information.</p>
<p >Get details about the NVM memory regions such as NVM type, start address, size, is_erase_required, and erase values etc.</p>
<p >Description: Provides a high level interface for interacting with the Infineon embedded non-volatile memory (NVM). This is wrapper around the lower level PDL API.</p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2018-2022 Cypress Semiconductor Corporation (an Infineon company) or an affiliate of Cypress Semiconductor Corporation</dd></dl>
<p>SPDX-License-Identifier: Apache-2.0</p>
<p >Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at </p><pre class="fragment">http://www.apache.org/licenses/LICENSE-2.0
</pre><p> Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. </p>

</div>
</div>
<a id="ga9dce2f8a935a571e9f1d322b00482b99" name="ga9dce2f8a935a571e9f1d322b00482b99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9dce2f8a935a571e9f1d322b00482b99">&#9670;&nbsp;</a></span>mtb_hal_nvm_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_nvm_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__nvm__t">mtb_hal_nvm_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read size amount of data starting from the given address of NVM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The NVM object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>Address to begin reading from. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>The buffer to read data into. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>The number of bytes to read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the read request. Returns <a class="el" href="group__group__result.html#gaf58fac450d9fff4472f03ad68f6e546e">CY_RSLT_SUCCESS</a> on successful operation.</dd></dl>
<p>Refer <a class="el" href="group__group__hal__nvm.html#subsection_nvm_use_case_2">Snippet 2: Blocking NVM Erase-Write and Read</a> for more information. </p>

</div>
</div>
<a id="ga13baf4216ead141362b679bd28010410" name="ga13baf4216ead141362b679bd28010410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga13baf4216ead141362b679bd28010410">&#9670;&nbsp;</a></span>mtb_hal_nvm_erase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_nvm_erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__nvm__t">mtb_hal_nvm_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase one block of NVM starting at the given address. </p>
<p >The address must be at block boundary. This will block until the erase operation is complete.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__group__hal__nvm.html#gaf20b671cff2959aeb545f15b0ab27b29" title="Get details about the NVM memory regions such as NVM type, start address, size, is_erase_required,...">mtb_hal_nvm_get_info()</a> to get the NVM characteristics for legal address values, is erase required/applicable, and the erase block size(if applicable).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The NVM object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>The block address to be erased </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the erase request. Returns <a class="el" href="group__group__result.html#gaf58fac450d9fff4472f03ad68f6e546e">CY_RSLT_SUCCESS</a> on successful operation.</dd></dl>
<p>Refer <a class="el" href="group__group__hal__nvm.html#subsection_nvm_use_case_2">Snippet 2: Blocking NVM Erase-Write and Read</a> for more information. </p>

</div>
</div>
<a id="ga53d4f68eb314bbb6994bffa6087b1258" name="ga53d4f68eb314bbb6994bffa6087b1258"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga53d4f68eb314bbb6994bffa6087b1258">&#9670;&nbsp;</a></span>mtb_hal_nvm_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_nvm_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__nvm__t">mtb_hal_nvm_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function erases the block, if required, and writes the new data into the block starting at the given address. </p>
<p >The address must be at block boundary. This will block until the write operation is complete.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__group__hal__nvm.html#gaf20b671cff2959aeb545f15b0ab27b29" title="Get details about the NVM memory regions such as NVM type, start address, size, is_erase_required,...">mtb_hal_nvm_get_info()</a> to get the NVM characteristics for legal address values and the write block size. The provided data buffer must be at least as large as the NVM block_size. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Generally the <code>data</code> to be written must be located in the SRAM memory region.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The NVM object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>The address of the block to be written </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>The data buffer to be written to the NVM block </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the write request. Returns <a class="el" href="group__group__result.html#gaf58fac450d9fff4472f03ad68f6e546e">CY_RSLT_SUCCESS</a> on successful operation.</dd></dl>
<p>Refer <a class="el" href="group__group__hal__nvm.html#subsection_nvm_use_case_2">Snippet 2: Blocking NVM Erase-Write and Read</a> for more information. </p>

</div>
</div>
<a id="ga8cdcebb8414ed7e4ee053951909cc22b" name="ga8cdcebb8414ed7e4ee053951909cc22b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8cdcebb8414ed7e4ee053951909cc22b">&#9670;&nbsp;</a></span>mtb_hal_nvm_program()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_nvm_program </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__nvm__t">mtb_hal_nvm_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Program one block with the provided data starting at the given address. </p>
<p >The address must be at block boundary. This will block until the write operation is complete.</p>
<dl class="section note"><dt>Note</dt><dd>This function does not erase the block prior to writing. The block must be erased first via a separate call to erase. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__group__hal__nvm.html#gaf20b671cff2959aeb545f15b0ab27b29" title="Get details about the NVM memory regions such as NVM type, start address, size, is_erase_required,...">mtb_hal_nvm_get_info()</a> to get the NVM characteristics for legal address values and the total block size. The provided data buffer must be at least as large as the NVM block_size. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Generally the <code>data</code> to be programmed must be located in the SRAM memory region.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The NVM object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>The address of the block to be programmed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>The data buffer to be programmed to the NVM block </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the program request. Returns <a class="el" href="group__group__result.html#gaf58fac450d9fff4472f03ad68f6e546e">CY_RSLT_SUCCESS</a> on successful operation. </dd></dl>

</div>
</div>
<a id="gafb0fe80c7f3b8babd580cf8b238e43c5" name="gafb0fe80c7f3b8babd580cf8b238e43c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafb0fe80c7f3b8babd580cf8b238e43c5">&#9670;&nbsp;</a></span>mtb_hal_nvm_get_region_for_address()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="group__group__hal__nvm.html#structmtb__hal__nvm__region__info__t">mtb_hal_nvm_region_info_t</a> * mtb_hal_nvm_get_region_for_address </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__nvm__t">mtb_hal_nvm_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the nvm region based on given address and length. </p>
<p >If "length is zero and address is not in any nvm region" or if "length is not zero and address is not in any nvm region" or if "length is not zero and address is one nvm region but address + length goes into another nvm
region", the function will return Null.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The NVM object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>The start address of the block </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>The legnth to block </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer, <a class="el" href="group__group__hal__nvm.html#structmtb__hal__nvm__region__info__t" title="Information about a single region of NVM memory.">mtb_hal_nvm_region_info_t</a>, to nvm region </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>Hardware Abstraction Layer (HAL)</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
