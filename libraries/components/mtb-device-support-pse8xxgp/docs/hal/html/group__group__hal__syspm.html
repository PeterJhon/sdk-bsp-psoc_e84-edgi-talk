<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hardware Abstraction Layer (HAL)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hardware Abstraction Layer (HAL)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__group__hal__syspm.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">API Reference</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">System Power Management<div class="ingroups"><a class="el" href="group__group__hal.html">HAL Drivers</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<p >Interface for changing power states and restricting when they are allowed. </p>
<p >There are three supported MCU Power States:</p><ul>
<li>Active - This is the normal operating state of the MCU</li>
<li>Sleep - In this state the MCU is no longer running. It can be woken up again from an interrupt. This state is reached by calling <a class="el" href="group__group__hal__syspm.html#gaf861965317611e6a247fe20f18d25cdf">mtb_hal_syspm_sleep</a>.</li>
<li>Deep Sleep - In this state the MCU is no longer running. It can only be woken up by select interrupts. This state is reached by calling <a class="el" href="group__group__hal__syspm.html#gacfaa3dc405630a0acfc06a6bae7f511c">mtb_hal_syspm_deepsleep</a>.</li>
</ul>
<p >Some devices support multiple modes for the DeepSleep power state. The currently selected DeepSleep mode, which will be entered by <a class="el" href="group__group__hal__syspm.html#gacfaa3dc405630a0acfc06a6bae7f511c">mtb_hal_syspm_deepsleep</a>, can be determined via the <a class="el" href="group__group__hal__syspm.html#gaa74f4937237e9a9c925e1c1e92784ec0">mtb_hal_syspm_get_deepsleep_mode</a> function. Configuration of the DeepSleep mode can be performed via platform specific APIs (e.g. PDL).</p>
<dl class="section note"><dt>Note</dt><dd>The power management functionality available depends on the availability of the features in the hardware. For detailed information about exactly what is supported on each device, refer to the Device Datasheet or Technical Reference Manual (TRM).</dd></dl>
<p>Any time a power state transition is requested a series of callbacks are invoked. This allows peripherals, or other parts of the application, to confirm they are not currently doing something that would not work in the requested power state. Middleware has the option to register a callback function(s) to be called on requested state transitions by callling <a class="el" href="group__group__hal__syspm.html#gacfc8d0cf40f48f91743367f70e43c48a">mtb_hal_syspm_register_callback</a>. Each callback registered can specify the exact set of states ( <a class="el" href="group__group__hal__syspm.html#ga691dc5889dbab1928b10cbaa4d0c34d4">mtb_hal_syspm_callback_state_t</a> ) that it should be called for. Each callback is invoked multiple times as part of the transition process as defined by <a class="el" href="group__group__hal__syspm.html#ga8c1406573cb935a6e847b1914a492d70">mtb_hal_syspm_callback_mode_t</a>.</p>
<p >At any point the code can lock the ability to enter deep sleep by calling <a class="el" href="group__group__hal__syspm.html#ga001357e514b21137e4a5aea186bb3376">mtb_hal_syspm_lock_deepsleep</a>. This should be done in critical blocks that need to continue remain active. When the critical work is complete, and the lock is no longer needed, it can be released by calling <a class="el" href="group__group__hal__syspm.html#ga120dcd9be700a41962cbf4d43afae8c8">mtb_hal_syspm_unlock_deepsleep</a>. The lock is a counter with a max count of USHRT_MAX. It must be locked/unlocked an equal number of times before the device is actually able to enter deep sleep.</p>
<h1><a class="anchor" id="section_syspm_features"></a>
Features</h1>
<p >This driver provides control over multiple different types of power management and when those transitions are allowed:</p><ul>
<li>Change CPU Power State: APIs to allow changing the current CPU state into one of the lower power CPU states (SLEEP, DEEPSLEEP)</li>
<li>General Purpose Power State Transition Callback: APIs allow for registering/unregistering a callback function to be notified when various power state transitions happen. If registered, the application can do anything necessary at power transitions. It can even prevent the transition if need-be.</li>
<li>Lock DeepSleep: APIs to prevent/allow the CPU from going to deep sleep. This is a convenience API rather than needing to implement a full Transition Callback handler.</li>
</ul>
<h1><a class="anchor" id="section_syspm_quickstart"></a>
Quick Start</h1>
<p >Unlike most HAL drivers this does not require initializing an instance object. The APIs provided here can be called at anytime. See the snippets below for examples of how to use this driver.</p>
<h1><a class="anchor" id="section_syspm_snippets"></a>
Code Snippets</h1>
<h2><a class="anchor" id="subsection_syspm_snippet_1"></a>
Snippet 1: Simple deep sleep locking</h2>
<p >The following snippet shows how to use the deep sleep locking APIs to restrict when the device can enter deep sleep. In between the lock/unlock calls any attempt to change power modes will automatically be canceled. </p><div class="fragment"><div class="line">    <a class="code hl_function" href="group__group__hal__syspm.html#ga001357e514b21137e4a5aea186bb3376">mtb_hal_syspm_lock_deepsleep</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Perform work that should not be interrupted by deepsleep</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__group__hal__syspm.html#ga120dcd9be700a41962cbf4d43afae8c8">mtb_hal_syspm_unlock_deepsleep</a>();</div>
<div class="ttc" id="agroup__group__hal__syspm_html_ga001357e514b21137e4a5aea186bb3376"><div class="ttname"><a href="group__group__hal__syspm.html#ga001357e514b21137e4a5aea186bb3376">mtb_hal_syspm_lock_deepsleep</a></div><div class="ttdeci">void mtb_hal_syspm_lock_deepsleep(void)</div><div class="ttdoc">Lock deep sleep.</div><div class="ttdef"><b>Definition:</b> mtb_hal_syspm.c:330</div></div>
<div class="ttc" id="agroup__group__hal__syspm_html_ga120dcd9be700a41962cbf4d43afae8c8"><div class="ttname"><a href="group__group__hal__syspm.html#ga120dcd9be700a41962cbf4d43afae8c8">mtb_hal_syspm_unlock_deepsleep</a></div><div class="ttdeci">void mtb_hal_syspm_unlock_deepsleep(void)</div><div class="ttdoc">Unlock deep sleep.</div><div class="ttdef"><b>Definition:</b> mtb_hal_syspm.c:343</div></div>
</div><!-- fragment --><h2><a class="anchor" id="subsection_syspm_snippet_2"></a>
Snippet 2: Calling different power state functions</h2>
<p >The following snippet shows the different functions that exist to change power states on the device and how they can each be called. </p><div class="fragment"><div class="line">    <a class="code hl_typedef" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> rslt;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Put the MCU to sleep. Peripherals will continue to operate.</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__syspm.html#gaf861965317611e6a247fe20f18d25cdf">mtb_hal_syspm_sleep</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Put the MCU to deep-sleep. Many peripherals will also stop.</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__syspm.html#gacfaa3dc405630a0acfc06a6bae7f511c">mtb_hal_syspm_deepsleep</a>();</div>
<div class="line"> </div>
<div class="ttc" id="agroup__group__hal__syspm_html_gacfaa3dc405630a0acfc06a6bae7f511c"><div class="ttname"><a href="group__group__hal__syspm.html#gacfaa3dc405630a0acfc06a6bae7f511c">mtb_hal_syspm_deepsleep</a></div><div class="ttdeci">cy_rslt_t mtb_hal_syspm_deepsleep(void)</div><div class="ttdoc">Set CPU to deep sleep mode.</div><div class="ttdef"><b>Definition:</b> mtb_hal_syspm.c:355</div></div>
<div class="ttc" id="agroup__group__hal__syspm_html_gaf861965317611e6a247fe20f18d25cdf"><div class="ttname"><a href="group__group__hal__syspm.html#gaf861965317611e6a247fe20f18d25cdf">mtb_hal_syspm_sleep</a></div><div class="ttdeci">cy_rslt_t mtb_hal_syspm_sleep(void)</div><div class="ttdoc">Set CPU to sleep mode.</div></div>
<div class="ttc" id="agroup__group__result_html_gaca79700fcc701534ce61778a9bcf57d1"><div class="ttname"><a href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a></div><div class="ttdeci">uint32_t cy_rslt_t</div><div class="ttdoc">Provides the result of an operation as a structured bitfield.</div><div class="ttdef"><b>Definition:</b> cy_result.h:479</div></div>
</div><!-- fragment --><h2><a class="anchor" id="subsection_syspm_snippet_3"></a>
Snippet 3: Using callbacks for application power management</h2>
<p >The following snippet shows how to use the callback mechanisms to manage whether it is safe to enter low power modes. </p><div class="fragment"><div class="line"><span class="keywordtype">bool</span> syspm_app_callback(<a class="code hl_enumeration" href="group__group__hal__syspm.html#ga691dc5889dbab1928b10cbaa4d0c34d4">mtb_hal_syspm_callback_state_t</a> state, <a class="code hl_enumeration" href="group__group__hal__syspm.html#ga8c1406573cb935a6e847b1914a492d70">mtb_hal_syspm_callback_mode_t</a> mode,</div>
<div class="line">                        <span class="keywordtype">void</span>* callback_arg)</div>
<div class="line">{</div>
<div class="line">    (void)callback_arg;</div>
<div class="line">    <span class="keywordtype">bool</span> allow_transition = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (mode)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group__group__hal__syspm.html#gga8c1406573cb935a6e847b1914a492d70a1ec5f520b677b096ac6d7ffd4695236f">MTB_HAL_SYSPM_CHECK_READY</a>:</div>
<div class="line">            <span class="comment">// Check to see if it is OK to change power modes.</span></div>
<div class="line">            <span class="comment">// If it is OK the change, make sure nothing will invalidate this and return true.</span></div>
<div class="line">            <span class="comment">// If it is not OK the change, return false.</span></div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Example: prevent transition if requested mode is DEEPSLEEP.</span></div>
<div class="line">            allow_transition = (state != <a class="code hl_enumvalue" href="group__group__hal__syspm.html#gga691dc5889dbab1928b10cbaa4d0c34d4a2e5fa0bd9e30a7b817c17a5ede6cd2c7">MTB_HAL_SYSPM_CB_CPU_DEEPSLEEP</a>);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group__group__hal__syspm.html#gga8c1406573cb935a6e847b1914a492d70aa1c11cc55900b51dff51056e2e80e6f9">MTB_HAL_SYSPM_CHECK_FAIL</a>:</div>
<div class="line">            <span class="comment">// Undo anything done as part of CHECK_READY since it is not actually chaning.</span></div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group__group__hal__syspm.html#gga8c1406573cb935a6e847b1914a492d70ae907f6459924e85c66b1797012ad1613">MTB_HAL_SYSPM_BEFORE_TRANSITION</a>:</div>
<div class="line">            <span class="comment">// Do anything necessary to shut things down.</span></div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group__group__hal__syspm.html#gga8c1406573cb935a6e847b1914a492d70a80a5989f7fa33d043e1f54a3e2a12269">MTB_HAL_SYSPM_AFTER_TRANSITION</a>:</div>
<div class="line">            <span class="comment">// Undo anything done as part of CHECK_READY or BEFORE_TRANSITION since it is coming</span></div>
<div class="line">            <span class="comment">// back up.</span></div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="group__group__hal__syspm.html#gga8c1406573cb935a6e847b1914a492d70a319783ad99b59d408584fa1206f060d4">MTB_HAL_SYSPM_AFTER_DS_WFI_TRANSITION</a>:</div>
<div class="line">            <span class="comment">// Do anything necessary after deepsleep wakeup and before interrupts getting enabled.</span></div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> allow_transition;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> snippet_mtb_hal_syspm_app_callback(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_typedef" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>                   rslt;</div>
<div class="line">    <span class="comment">// Register the same callback to be invoked for both Sleep and DeepSleep transitions</span></div>
<div class="line">    <span class="comment">// The `state` argument can be used to differentiate the applicable state when</span></div>
<div class="line">    <span class="comment">// the callback is invoked during a transition</span></div>
<div class="line">    <a class="code hl_struct" href="group__group__hal__syspm.html#structmtb__hal__syspm__callback__params__t">mtb_hal_syspm_callback_params_t</a> params_sleep =</div>
<div class="line">    {</div>
<div class="line">        .<a class="code hl_variable" href="group__group__hal__syspm.html#a4808ef77290559ab95b8fcc97176bd4a">callback</a> = syspm_app_callback,</div>
<div class="line">        .state    = <a class="code hl_enumvalue" href="group__group__hal__syspm.html#gga691dc5889dbab1928b10cbaa4d0c34d4a4479e16262e4ed0e800b013499825c1f">MTB_HAL_SYSPM_CB_CPU_SLEEP</a>,</div>
<div class="line">        .arg      = NULL,</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="group__group__hal__syspm.html#structmtb__hal__syspm__callback__params__t">mtb_hal_syspm_callback_params_t</a> params_deepsleep =</div>
<div class="line">    {</div>
<div class="line">        .<a class="code hl_variable" href="group__group__hal__syspm.html#a4808ef77290559ab95b8fcc97176bd4a">callback</a> = syspm_app_callback,</div>
<div class="line">        .state    = <a class="code hl_enumvalue" href="group__group__hal__syspm.html#gga691dc5889dbab1928b10cbaa4d0c34d4a2e5fa0bd9e30a7b817c17a5ede6cd2c7">MTB_HAL_SYSPM_CB_CPU_DEEPSLEEP</a>,</div>
<div class="line">        .arg      = NULL,</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="group__group__hal__impl__hw__types.html#structmtb__hal__syspm__callback__data__t">mtb_hal_syspm_callback_data_t</a> cb_sleep;</div>
<div class="line">    <a class="code hl_struct" href="group__group__hal__impl__hw__types.html#structmtb__hal__syspm__callback__data__t">mtb_hal_syspm_callback_data_t</a> cb_deepsleep;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__group__hal__syspm.html#gacfc8d0cf40f48f91743367f70e43c48a">mtb_hal_syspm_register_callback</a>(&amp;cb_sleep, &amp;params_sleep);</div>
<div class="line">    <a class="code hl_function" href="group__group__hal__syspm.html#gacfc8d0cf40f48f91743367f70e43c48a">mtb_hal_syspm_register_callback</a>(&amp;cb_deepsleep, &amp;params_deepsleep);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Attempt to DeepSleep. This will be rejected by the callback.</span></div>
<div class="line">    rslt = <a class="code hl_function" href="group__group__hal__syspm.html#gacfaa3dc405630a0acfc06a6bae7f511c">mtb_hal_syspm_deepsleep</a>();</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_define" href="group__group__result.html#gaf58fac450d9fff4472f03ad68f6e546e">CY_RSLT_SUCCESS</a> != rslt)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// If the device couldn&#39;t go to DeepSleep, try sleep</span></div>
<div class="line">        rslt = <a class="code hl_function" href="group__group__hal__syspm.html#gaf861965317611e6a247fe20f18d25cdf">mtb_hal_syspm_sleep</a>();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__group__hal__syspm.html#ga88930aa9c4b67a4b78e4f83b517cc50f">mtb_hal_syspm_unregister_callback</a>(&amp;cb_sleep);</div>
<div class="line">    <a class="code hl_function" href="group__group__hal__syspm.html#ga88930aa9c4b67a4b78e4f83b517cc50f">mtb_hal_syspm_unregister_callback</a>(&amp;cb_deepsleep);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="ttc" id="agroup__group__hal__impl__hw__types_html_structmtb__hal__syspm__callback__data__t"><div class="ttname"><a href="group__group__hal__impl__hw__types.html#structmtb__hal__syspm__callback__data__t">mtb_hal_syspm_callback_data_t</a></div><div class="ttdoc">SysPm callback data object.</div><div class="ttdef"><b>Definition:</b> mtb_hal_hw_types_syspm.h:54</div></div>
<div class="ttc" id="agroup__group__hal__syspm_html_a4808ef77290559ab95b8fcc97176bd4a"><div class="ttname"><a href="group__group__hal__syspm.html#a4808ef77290559ab95b8fcc97176bd4a">mtb_hal_syspm_callback_params_t::callback</a></div><div class="ttdeci">mtb_hal_syspm_callback_t callback</div><div class="ttdoc">Callback to run on power state change.</div><div class="ttdef"><b>Definition:</b> mtb_hal_syspm.h:232</div></div>
<div class="ttc" id="agroup__group__hal__syspm_html_ga691dc5889dbab1928b10cbaa4d0c34d4"><div class="ttname"><a href="group__group__hal__syspm.html#ga691dc5889dbab1928b10cbaa4d0c34d4">mtb_hal_syspm_callback_state_t</a></div><div class="ttdeci">mtb_hal_syspm_callback_state_t</div><div class="ttdoc">Flags enum for the cpu state in a custom callback.</div><div class="ttdef"><b>Definition:</b> mtb_hal_syspm.h:166</div></div>
<div class="ttc" id="agroup__group__hal__syspm_html_ga88930aa9c4b67a4b78e4f83b517cc50f"><div class="ttname"><a href="group__group__hal__syspm.html#ga88930aa9c4b67a4b78e4f83b517cc50f">mtb_hal_syspm_unregister_callback</a></div><div class="ttdeci">cy_rslt_t mtb_hal_syspm_unregister_callback(mtb_hal_syspm_callback_data_t *obj)</div><div class="ttdoc">Removes the registered handler from the power manager so no future notifications are made.</div><div class="ttdef"><b>Definition:</b> mtb_hal_syspm.c:320</div></div>
<div class="ttc" id="agroup__group__hal__syspm_html_ga8c1406573cb935a6e847b1914a492d70"><div class="ttname"><a href="group__group__hal__syspm.html#ga8c1406573cb935a6e847b1914a492d70">mtb_hal_syspm_callback_mode_t</a></div><div class="ttdeci">mtb_hal_syspm_callback_mode_t</div><div class="ttdoc">Enumeration of the transition modes in custom callback.</div><div class="ttdef"><b>Definition:</b> mtb_hal_syspm.h:189</div></div>
<div class="ttc" id="agroup__group__hal__syspm_html_gacfc8d0cf40f48f91743367f70e43c48a"><div class="ttname"><a href="group__group__hal__syspm.html#gacfc8d0cf40f48f91743367f70e43c48a">mtb_hal_syspm_register_callback</a></div><div class="ttdeci">cy_rslt_t mtb_hal_syspm_register_callback(mtb_hal_syspm_callback_data_t *obj, mtb_hal_syspm_callback_params_t *params)</div><div class="ttdoc">Register the specified handler with the power manager to be notified of power state changes.</div><div class="ttdef"><b>Definition:</b> mtb_hal_syspm.c:292</div></div>
<div class="ttc" id="agroup__group__hal__syspm_html_gga691dc5889dbab1928b10cbaa4d0c34d4a2e5fa0bd9e30a7b817c17a5ede6cd2c7"><div class="ttname"><a href="group__group__hal__syspm.html#gga691dc5889dbab1928b10cbaa4d0c34d4a2e5fa0bd9e30a7b817c17a5ede6cd2c7">MTB_HAL_SYSPM_CB_CPU_DEEPSLEEP</a></div><div class="ttdeci">@ MTB_HAL_SYSPM_CB_CPU_DEEPSLEEP</div><div class="ttdoc">Flag for MCU deep sleep callback.</div><div class="ttdef"><b>Definition:</b> mtb_hal_syspm.h:170</div></div>
<div class="ttc" id="agroup__group__hal__syspm_html_gga691dc5889dbab1928b10cbaa4d0c34d4a4479e16262e4ed0e800b013499825c1f"><div class="ttname"><a href="group__group__hal__syspm.html#gga691dc5889dbab1928b10cbaa4d0c34d4a4479e16262e4ed0e800b013499825c1f">MTB_HAL_SYSPM_CB_CPU_SLEEP</a></div><div class="ttdeci">@ MTB_HAL_SYSPM_CB_CPU_SLEEP</div><div class="ttdoc">Flag for MCU sleep callback.</div><div class="ttdef"><b>Definition:</b> mtb_hal_syspm.h:168</div></div>
<div class="ttc" id="agroup__group__hal__syspm_html_gga8c1406573cb935a6e847b1914a492d70a1ec5f520b677b096ac6d7ffd4695236f"><div class="ttname"><a href="group__group__hal__syspm.html#gga8c1406573cb935a6e847b1914a492d70a1ec5f520b677b096ac6d7ffd4695236f">MTB_HAL_SYSPM_CHECK_READY</a></div><div class="ttdeci">@ MTB_HAL_SYSPM_CHECK_READY</div><div class="ttdoc">Callbacks with this mode are executed before entering into the low power mode.</div><div class="ttdef"><b>Definition:</b> mtb_hal_syspm.h:194</div></div>
<div class="ttc" id="agroup__group__hal__syspm_html_gga8c1406573cb935a6e847b1914a492d70a319783ad99b59d408584fa1206f060d4"><div class="ttname"><a href="group__group__hal__syspm.html#gga8c1406573cb935a6e847b1914a492d70a319783ad99b59d408584fa1206f060d4">MTB_HAL_SYSPM_AFTER_DS_WFI_TRANSITION</a></div><div class="ttdeci">@ MTB_HAL_SYSPM_AFTER_DS_WFI_TRANSITION</div><div class="ttdoc">Performs the actions to be done after exiting the Deepsleep low power mode if entered and before the ...</div><div class="ttdef"><b>Definition:</b> mtb_hal_syspm.h:210</div></div>
<div class="ttc" id="agroup__group__hal__syspm_html_gga8c1406573cb935a6e847b1914a492d70a80a5989f7fa33d043e1f54a3e2a12269"><div class="ttname"><a href="group__group__hal__syspm.html#gga8c1406573cb935a6e847b1914a492d70a80a5989f7fa33d043e1f54a3e2a12269">MTB_HAL_SYSPM_AFTER_TRANSITION</a></div><div class="ttdeci">@ MTB_HAL_SYSPM_AFTER_TRANSITION</div><div class="ttdoc">In this mode, the application must perform the actions to be done after exiting the low power mode.</div><div class="ttdef"><b>Definition:</b> mtb_hal_syspm.h:206</div></div>
<div class="ttc" id="agroup__group__hal__syspm_html_gga8c1406573cb935a6e847b1914a492d70aa1c11cc55900b51dff51056e2e80e6f9"><div class="ttname"><a href="group__group__hal__syspm.html#gga8c1406573cb935a6e847b1914a492d70aa1c11cc55900b51dff51056e2e80e6f9">MTB_HAL_SYSPM_CHECK_FAIL</a></div><div class="ttdeci">@ MTB_HAL_SYSPM_CHECK_FAIL</div><div class="ttdoc">Callbacks with this mode are only executed if the callback returned true for MTB_HAL_SYSPM_CHECK_READ...</div><div class="ttdef"><b>Definition:</b> mtb_hal_syspm.h:199</div></div>
<div class="ttc" id="agroup__group__hal__syspm_html_gga8c1406573cb935a6e847b1914a492d70ae907f6459924e85c66b1797012ad1613"><div class="ttname"><a href="group__group__hal__syspm.html#gga8c1406573cb935a6e847b1914a492d70ae907f6459924e85c66b1797012ad1613">MTB_HAL_SYSPM_BEFORE_TRANSITION</a></div><div class="ttdeci">@ MTB_HAL_SYSPM_BEFORE_TRANSITION</div><div class="ttdoc">Callbacks with this mode are executed after the MTB_HAL_SYSPM_CHECK_READY callbacks' execution return...</div><div class="ttdef"><b>Definition:</b> mtb_hal_syspm.h:203</div></div>
<div class="ttc" id="agroup__group__hal__syspm_html_structmtb__hal__syspm__callback__params__t"><div class="ttname"><a href="group__group__hal__syspm.html#structmtb__hal__syspm__callback__params__t">mtb_hal_syspm_callback_params_t</a></div><div class="ttdoc">Power management callback data object.</div><div class="ttdef"><b>Definition:</b> mtb_hal_syspm.h:230</div></div>
<div class="ttc" id="agroup__group__result_html_gaf58fac450d9fff4472f03ad68f6e546e"><div class="ttname"><a href="group__group__result.html#gaf58fac450d9fff4472f03ad68f6e546e">CY_RSLT_SUCCESS</a></div><div class="ttdeci">#define CY_RSLT_SUCCESS</div><div class="ttdoc">cy_rslt_t return value indicating success</div><div class="ttdef"><b>Definition:</b> cy_result.h:506</div></div>
</div><!-- fragment --> <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
API Reference</h2></td></tr>
<tr class="memitem:group__group__hal__results__syspm"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__results__syspm.html">SYSPM HAL Results</a></td></tr>
<tr class="memdesc:group__group__hal__results__syspm"><td class="mdescLeft">&#160;</td><td class="mdescRight">SYSPM specific return codes. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structmtb__hal__syspm__callback__params__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__syspm.html#structmtb__hal__syspm__callback__params__t">mtb_hal_syspm_callback_params_t</a></td></tr>
<tr class="memdesc:structmtb__hal__syspm__callback__params__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power management callback data object.  <a href="group__group__hal__syspm.html#structmtb__hal__syspm__callback__params__t">More...</a><br /></td></tr>
<tr class="separator:structmtb__hal__syspm__callback__params__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga5ede0b91ce456162ef04f5f2c3296f54"><td class="memItemLeft" align="right" valign="top">typedef bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__syspm.html#ga5ede0b91ce456162ef04f5f2c3296f54">mtb_hal_syspm_callback_t</a>) (<a class="el" href="group__group__hal__syspm.html#ga691dc5889dbab1928b10cbaa4d0c34d4">mtb_hal_syspm_callback_state_t</a> state, <a class="el" href="group__group__hal__syspm.html#ga8c1406573cb935a6e847b1914a492d70">mtb_hal_syspm_callback_mode_t</a> mode, void *callback_arg)</td></tr>
<tr class="memdesc:ga5ede0b91ce456162ef04f5f2c3296f54"><td class="mdescLeft">&#160;</td><td class="mdescRight">The system wide custom action power callback type.  <a href="group__group__hal__syspm.html#ga5ede0b91ce456162ef04f5f2c3296f54">More...</a><br /></td></tr>
<tr class="separator:ga5ede0b91ce456162ef04f5f2c3296f54"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gac65483c92a89b178ab6a1a7c9ef8e947"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__syspm.html#gac65483c92a89b178ab6a1a7c9ef8e947">mtb_hal_syspm_system_deep_sleep_mode_t</a> { <br />
&#160;&#160;<a class="el" href="group__group__hal__syspm.html#ggac65483c92a89b178ab6a1a7c9ef8e947a357246029610c0ceb8beb9edc48dcf3b">MTB_HAL_SYSPM_SYSTEM_DEEPSLEEP_NONE</a>
, <br />
&#160;&#160;<a class="el" href="group__group__hal__syspm.html#ggac65483c92a89b178ab6a1a7c9ef8e947a69dee4de2b6e0c5486fc78ce54d8fb2e">MTB_HAL_SYSPM_SYSTEM_DEEPSLEEP</a>
, <br />
&#160;&#160;<a class="el" href="group__group__hal__syspm.html#ggac65483c92a89b178ab6a1a7c9ef8e947a0ef9b94d0e1655eacda3b7f2c0c8ac25">MTB_HAL_SYSPM_SYSTEM_DEEPSLEEP_RAM</a>
, <br />
&#160;&#160;<a class="el" href="group__group__hal__syspm.html#ggac65483c92a89b178ab6a1a7c9ef8e947a3a3fd25d29ca9fd1f17caf830adf4975">MTB_HAL_SYSPM_SYSTEM_DEEPSLEEP_OFF</a>
<br />
 }</td></tr>
<tr class="memdesc:gac65483c92a89b178ab6a1a7c9ef8e947"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration of the system Deep Sleep modes.  <a href="group__group__hal__syspm.html#gac65483c92a89b178ab6a1a7c9ef8e947">More...</a><br /></td></tr>
<tr class="separator:gac65483c92a89b178ab6a1a7c9ef8e947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga691dc5889dbab1928b10cbaa4d0c34d4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__syspm.html#ga691dc5889dbab1928b10cbaa4d0c34d4">mtb_hal_syspm_callback_state_t</a> { <br />
&#160;&#160;<a class="el" href="group__group__hal__syspm.html#gga691dc5889dbab1928b10cbaa4d0c34d4a4479e16262e4ed0e800b013499825c1f">MTB_HAL_SYSPM_CB_CPU_SLEEP</a> = MTB_HAL_MAP_SYSPM_CB_SLEEP
, <br />
&#160;&#160;<a class="el" href="group__group__hal__syspm.html#gga691dc5889dbab1928b10cbaa4d0c34d4a2e5fa0bd9e30a7b817c17a5ede6cd2c7">MTB_HAL_SYSPM_CB_CPU_DEEPSLEEP</a> = MTB_HAL_MAP_SYSPM_CB_DEEPSLEEP
, <br />
&#160;&#160;<a class="el" href="group__group__hal__syspm.html#gga691dc5889dbab1928b10cbaa4d0c34d4abdc2c1ecbcda8a028bc783d750aeee0c">MTB_HAL_SYSPM_CB_CPU_DEEPSLEEP_RAM</a> = MTB_HAL_MAP_SYSPM_CB_DEEPSLEEP_RAM
, <br />
&#160;&#160;<a class="el" href="group__group__hal__syspm.html#gga691dc5889dbab1928b10cbaa4d0c34d4aec8cf572dcb28aad02bfc4dea07ebd9b">MTB_HAL_SYSPM_CB_SYSTEM_HIBERNATE</a> = MTB_HAL_MAP_SYSPM_CB_HIBERNATE
, <br />
&#160;&#160;<a class="el" href="group__group__hal__syspm.html#gga691dc5889dbab1928b10cbaa4d0c34d4a943e0e33811979e063eaa3c4cca89a37">MTB_HAL_SYSPM_CB_SYSTEM_NORMAL</a> = MTB_HAL_MAP_SYSPM_CB_NORMAL
, <br />
&#160;&#160;<a class="el" href="group__group__hal__syspm.html#gga691dc5889dbab1928b10cbaa4d0c34d4a2d69e8f9b51e1f50e6b64166b8d64082">MTB_HAL_SYSPM_CB_SYSTEM_LOW</a> = MTB_HAL_MAP_SYSPM_CB_LOW
, <br />
&#160;&#160;<a class="el" href="group__group__hal__syspm.html#gga691dc5889dbab1928b10cbaa4d0c34d4a070f5803e00b0d463059a4611dc6e9a5">MTB_HAL_SYSPM_CB_SYSTEM_HIGH</a> = MTB_HAL_MAP_SYSPM_CB_HIGH
<br />
 }</td></tr>
<tr class="memdesc:ga691dc5889dbab1928b10cbaa4d0c34d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags enum for the cpu state in a custom callback.  <a href="group__group__hal__syspm.html#ga691dc5889dbab1928b10cbaa4d0c34d4">More...</a><br /></td></tr>
<tr class="separator:ga691dc5889dbab1928b10cbaa4d0c34d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c1406573cb935a6e847b1914a492d70"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__syspm.html#ga8c1406573cb935a6e847b1914a492d70">mtb_hal_syspm_callback_mode_t</a> { <br />
&#160;&#160;<a class="el" href="group__group__hal__syspm.html#gga8c1406573cb935a6e847b1914a492d70a1ec5f520b677b096ac6d7ffd4695236f">MTB_HAL_SYSPM_CHECK_READY</a> = MTB_HAL_MAP_SYSPM_CHECK_READY
, <br />
&#160;&#160;<a class="el" href="group__group__hal__syspm.html#gga8c1406573cb935a6e847b1914a492d70aa1c11cc55900b51dff51056e2e80e6f9">MTB_HAL_SYSPM_CHECK_FAIL</a> = MTB_HAL_MAP_SYSPM_CHECK_FAIL
, <br />
&#160;&#160;<a class="el" href="group__group__hal__syspm.html#gga8c1406573cb935a6e847b1914a492d70ae907f6459924e85c66b1797012ad1613">MTB_HAL_SYSPM_BEFORE_TRANSITION</a> = MTB_HAL_MAP_SYSPM_BEFORE_TRANSITION
, <br />
&#160;&#160;<a class="el" href="group__group__hal__syspm.html#gga8c1406573cb935a6e847b1914a492d70a80a5989f7fa33d043e1f54a3e2a12269">MTB_HAL_SYSPM_AFTER_TRANSITION</a> = MTB_HAL_MAP_SYSPM_AFTER_TRANSITION
, <br />
&#160;&#160;<a class="el" href="group__group__hal__syspm.html#gga8c1406573cb935a6e847b1914a492d70a319783ad99b59d408584fa1206f060d4">MTB_HAL_SYSPM_AFTER_DS_WFI_TRANSITION</a> = MTB_HAL_MAP_SYSPM_AFTER_DS_WFI_TRANSITION
<br />
 }</td></tr>
<tr class="memdesc:ga8c1406573cb935a6e847b1914a492d70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration of the transition modes in custom callback.  <a href="group__group__hal__syspm.html#ga8c1406573cb935a6e847b1914a492d70">More...</a><br /></td></tr>
<tr class="separator:ga8c1406573cb935a6e847b1914a492d70"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacfc8d0cf40f48f91743367f70e43c48a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__syspm.html#gacfc8d0cf40f48f91743367f70e43c48a">mtb_hal_syspm_register_callback</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__syspm__callback__data__t">mtb_hal_syspm_callback_data_t</a> *obj, <a class="el" href="group__group__hal__syspm.html#structmtb__hal__syspm__callback__params__t">mtb_hal_syspm_callback_params_t</a> *params)</td></tr>
<tr class="memdesc:gacfc8d0cf40f48f91743367f70e43c48a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the specified handler with the power manager to be notified of power state changes.  <a href="group__group__hal__syspm.html#gacfc8d0cf40f48f91743367f70e43c48a">More...</a><br /></td></tr>
<tr class="separator:gacfc8d0cf40f48f91743367f70e43c48a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga88930aa9c4b67a4b78e4f83b517cc50f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__syspm.html#ga88930aa9c4b67a4b78e4f83b517cc50f">mtb_hal_syspm_unregister_callback</a> (<a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__syspm__callback__data__t">mtb_hal_syspm_callback_data_t</a> *obj)</td></tr>
<tr class="memdesc:ga88930aa9c4b67a4b78e4f83b517cc50f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the registered handler from the power manager so no future notifications are made.  <a href="group__group__hal__syspm.html#ga88930aa9c4b67a4b78e4f83b517cc50f">More...</a><br /></td></tr>
<tr class="separator:ga88930aa9c4b67a4b78e4f83b517cc50f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf861965317611e6a247fe20f18d25cdf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__syspm.html#gaf861965317611e6a247fe20f18d25cdf">mtb_hal_syspm_sleep</a> (void)</td></tr>
<tr class="memdesc:gaf861965317611e6a247fe20f18d25cdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set CPU to sleep mode.  <a href="group__group__hal__syspm.html#gaf861965317611e6a247fe20f18d25cdf">More...</a><br /></td></tr>
<tr class="separator:gaf861965317611e6a247fe20f18d25cdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacfaa3dc405630a0acfc06a6bae7f511c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__syspm.html#gacfaa3dc405630a0acfc06a6bae7f511c">mtb_hal_syspm_deepsleep</a> (void)</td></tr>
<tr class="memdesc:gacfaa3dc405630a0acfc06a6bae7f511c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set CPU to deep sleep mode.  <a href="group__group__hal__syspm.html#gacfaa3dc405630a0acfc06a6bae7f511c">More...</a><br /></td></tr>
<tr class="separator:gacfaa3dc405630a0acfc06a6bae7f511c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga001357e514b21137e4a5aea186bb3376"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__syspm.html#ga001357e514b21137e4a5aea186bb3376">mtb_hal_syspm_lock_deepsleep</a> (void)</td></tr>
<tr class="memdesc:ga001357e514b21137e4a5aea186bb3376"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock deep sleep.  <a href="group__group__hal__syspm.html#ga001357e514b21137e4a5aea186bb3376">More...</a><br /></td></tr>
<tr class="separator:ga001357e514b21137e4a5aea186bb3376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga120dcd9be700a41962cbf4d43afae8c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__syspm.html#ga120dcd9be700a41962cbf4d43afae8c8">mtb_hal_syspm_unlock_deepsleep</a> (void)</td></tr>
<tr class="memdesc:ga120dcd9be700a41962cbf4d43afae8c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock deep sleep.  <a href="group__group__hal__syspm.html#ga120dcd9be700a41962cbf4d43afae8c8">More...</a><br /></td></tr>
<tr class="separator:ga120dcd9be700a41962cbf4d43afae8c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga34e4d3222a2d65f31f177c9155a36dfc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__syspm.html#ga34e4d3222a2d65f31f177c9155a36dfc">mtb_hal_syspm_tickless_deepsleep</a> (mtb_hal_lptimer_t *lptimer_obj, uint32_t desired_ms, uint32_t *actual_ms)</td></tr>
<tr class="memdesc:ga34e4d3222a2d65f31f177c9155a36dfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timed deep-sleep without system timer.  <a href="group__group__hal__syspm.html#ga34e4d3222a2d65f31f177c9155a36dfc">More...</a><br /></td></tr>
<tr class="separator:ga34e4d3222a2d65f31f177c9155a36dfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe35e11b5d4ab953a6556da3d3f0560f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__syspm.html#gafe35e11b5d4ab953a6556da3d3f0560f">mtb_hal_syspm_tickless_sleep</a> (mtb_hal_lptimer_t *lptimer_obj, uint32_t desired_ms, uint32_t *actual_ms)</td></tr>
<tr class="memdesc:gafe35e11b5d4ab953a6556da3d3f0560f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timed sleep without system timer.  <a href="group__group__hal__syspm.html#gafe35e11b5d4ab953a6556da3d3f0560f">More...</a><br /></td></tr>
<tr class="separator:gafe35e11b5d4ab953a6556da3d3f0560f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa74f4937237e9a9c925e1c1e92784ec0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__hal__syspm.html#gac65483c92a89b178ab6a1a7c9ef8e947">mtb_hal_syspm_system_deep_sleep_mode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hal__syspm.html#gaa74f4937237e9a9c925e1c1e92784ec0">mtb_hal_syspm_get_deepsleep_mode</a> (void)</td></tr>
<tr class="memdesc:gaa74f4937237e9a9c925e1c1e92784ec0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current deep sleep mode.  <a href="group__group__hal__syspm.html#gaa74f4937237e9a9c925e1c1e92784ec0">More...</a><br /></td></tr>
<tr class="separator:gaa74f4937237e9a9c925e1c1e92784ec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structmtb__hal__syspm__callback__params__t" id="structmtb__hal__syspm__callback__params__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structmtb__hal__syspm__callback__params__t">&#9670;&nbsp;</a></span>mtb_hal_syspm_callback_params_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct mtb_hal_syspm_callback_params_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a4808ef77290559ab95b8fcc97176bd4a" name="a4808ef77290559ab95b8fcc97176bd4a"></a><a class="el" href="group__group__hal__syspm.html#ga5ede0b91ce456162ef04f5f2c3296f54">mtb_hal_syspm_callback_t</a></td>
<td class="fieldname">
callback</td>
<td class="fielddoc">
Callback to run on power state change. </td></tr>
<tr><td class="fieldtype">
<a id="a039495e6cfbcdb942f66998d8162e68f" name="a039495e6cfbcdb942f66998d8162e68f"></a><a class="el" href="group__group__hal__syspm.html#ga691dc5889dbab1928b10cbaa4d0c34d4">mtb_hal_syspm_callback_state_t</a></td>
<td class="fieldname">
state</td>
<td class="fielddoc">
Power states that should trigger calling the callback. </td></tr>
<tr><td class="fieldtype">
<a id="a376edef28b00c3e2dccc261ddbe04b2f" name="a376edef28b00c3e2dccc261ddbe04b2f"></a><a class="el" href="group__group__hal__syspm.html#ga8c1406573cb935a6e847b1914a492d70">mtb_hal_syspm_callback_mode_t</a></td>
<td class="fieldname">
ignore_modes</td>
<td class="fielddoc">
Modes to ignore invoking the callback for. <p >Multiple <a class="el" href="group__group__hal__syspm.html#ga8c1406573cb935a6e847b1914a492d70">mtb_hal_syspm_callback_mode_t</a> values can be ored together. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a612861d2b0cf77c52226ce2d0f0e445e" name="a612861d2b0cf77c52226ce2d0f0e445e"></a>void *</td>
<td class="fieldname">
arg</td>
<td class="fielddoc">
Argument value to provide to the callback. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga5ede0b91ce456162ef04f5f2c3296f54" name="ga5ede0b91ce456162ef04f5f2c3296f54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ede0b91ce456162ef04f5f2c3296f54">&#9670;&nbsp;</a></span>mtb_hal_syspm_callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef bool(* mtb_hal_syspm_callback_t) (<a class="el" href="group__group__hal__syspm.html#ga691dc5889dbab1928b10cbaa4d0c34d4">mtb_hal_syspm_callback_state_t</a> state, <a class="el" href="group__group__hal__syspm.html#ga8c1406573cb935a6e847b1914a492d70">mtb_hal_syspm_callback_mode_t</a> mode, void *callback_arg)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The system wide custom action power callback type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>State the system or CPU is being transitioned into. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>Callback mode. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback_arg</td><td>User argument passed as part of registering callback. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If mode is <a class="el" href="group__group__hal__syspm.html#gga8c1406573cb935a6e847b1914a492d70a1ec5f520b677b096ac6d7ffd4695236f">MTB_HAL_SYSPM_CHECK_READY</a>, then this indicates whether the low power mode should be allowed (true) or not (false). Otherwise the return value is ignored. </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gac65483c92a89b178ab6a1a7c9ef8e947" name="gac65483c92a89b178ab6a1a7c9ef8e947"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac65483c92a89b178ab6a1a7c9ef8e947">&#9670;&nbsp;</a></span>mtb_hal_syspm_system_deep_sleep_mode_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__group__hal__syspm.html#gac65483c92a89b178ab6a1a7c9ef8e947">mtb_hal_syspm_system_deep_sleep_mode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration of the system Deep Sleep modes. </p>
<p >These modes are device specifc and may not be supported on all devices. Refer to the device specific documentation or the Data Sheet to determine what is allowed. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggac65483c92a89b178ab6a1a7c9ef8e947a357246029610c0ceb8beb9edc48dcf3b" name="ggac65483c92a89b178ab6a1a7c9ef8e947a357246029610c0ceb8beb9edc48dcf3b"></a>MTB_HAL_SYSPM_SYSTEM_DEEPSLEEP_NONE&#160;</td><td class="fielddoc"><p >Not Deep Sleep Mode. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac65483c92a89b178ab6a1a7c9ef8e947a69dee4de2b6e0c5486fc78ce54d8fb2e" name="ggac65483c92a89b178ab6a1a7c9ef8e947a69dee4de2b6e0c5486fc78ce54d8fb2e"></a>MTB_HAL_SYSPM_SYSTEM_DEEPSLEEP&#160;</td><td class="fielddoc"><p >Deep Sleep Mode. </p>
<p ><br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac65483c92a89b178ab6a1a7c9ef8e947a0ef9b94d0e1655eacda3b7f2c0c8ac25" name="ggac65483c92a89b178ab6a1a7c9ef8e947a0ef9b94d0e1655eacda3b7f2c0c8ac25"></a>MTB_HAL_SYSPM_SYSTEM_DEEPSLEEP_RAM&#160;</td><td class="fielddoc"><p >Deep Sleep RAM Mode. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac65483c92a89b178ab6a1a7c9ef8e947a3a3fd25d29ca9fd1f17caf830adf4975" name="ggac65483c92a89b178ab6a1a7c9ef8e947a3a3fd25d29ca9fd1f17caf830adf4975"></a>MTB_HAL_SYSPM_SYSTEM_DEEPSLEEP_OFF&#160;</td><td class="fielddoc"><p >Deep Sleep OFF Mode. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga691dc5889dbab1928b10cbaa4d0c34d4" name="ga691dc5889dbab1928b10cbaa4d0c34d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga691dc5889dbab1928b10cbaa4d0c34d4">&#9670;&nbsp;</a></span>mtb_hal_syspm_callback_state_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__group__hal__syspm.html#ga691dc5889dbab1928b10cbaa4d0c34d4">mtb_hal_syspm_callback_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flags enum for the cpu state in a custom callback. </p>
<p >This is used to indicate what states a callback should be called in. When a callback is called, only one of these will be set at a time. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga691dc5889dbab1928b10cbaa4d0c34d4a4479e16262e4ed0e800b013499825c1f" name="gga691dc5889dbab1928b10cbaa4d0c34d4a4479e16262e4ed0e800b013499825c1f"></a>MTB_HAL_SYSPM_CB_CPU_SLEEP&#160;</td><td class="fielddoc"><p >Flag for MCU sleep callback. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga691dc5889dbab1928b10cbaa4d0c34d4a2e5fa0bd9e30a7b817c17a5ede6cd2c7" name="gga691dc5889dbab1928b10cbaa4d0c34d4a2e5fa0bd9e30a7b817c17a5ede6cd2c7"></a>MTB_HAL_SYSPM_CB_CPU_DEEPSLEEP&#160;</td><td class="fielddoc"><p >Flag for MCU deep sleep callback. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga691dc5889dbab1928b10cbaa4d0c34d4abdc2c1ecbcda8a028bc783d750aeee0c" name="gga691dc5889dbab1928b10cbaa4d0c34d4abdc2c1ecbcda8a028bc783d750aeee0c"></a>MTB_HAL_SYSPM_CB_CPU_DEEPSLEEP_RAM&#160;</td><td class="fielddoc"><p >Flag for MCU deep sleep ram callback. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga691dc5889dbab1928b10cbaa4d0c34d4aec8cf572dcb28aad02bfc4dea07ebd9b" name="gga691dc5889dbab1928b10cbaa4d0c34d4aec8cf572dcb28aad02bfc4dea07ebd9b"></a>MTB_HAL_SYSPM_CB_SYSTEM_HIBERNATE&#160;</td><td class="fielddoc"><p >Flag for Hibernate callback. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga691dc5889dbab1928b10cbaa4d0c34d4a943e0e33811979e063eaa3c4cca89a37" name="gga691dc5889dbab1928b10cbaa4d0c34d4a943e0e33811979e063eaa3c4cca89a37"></a>MTB_HAL_SYSPM_CB_SYSTEM_NORMAL&#160;</td><td class="fielddoc"><p >Flag for Normal mode callback. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga691dc5889dbab1928b10cbaa4d0c34d4a2d69e8f9b51e1f50e6b64166b8d64082" name="gga691dc5889dbab1928b10cbaa4d0c34d4a2d69e8f9b51e1f50e6b64166b8d64082"></a>MTB_HAL_SYSPM_CB_SYSTEM_LOW&#160;</td><td class="fielddoc"><p >Flag for Low power mode callback. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga691dc5889dbab1928b10cbaa4d0c34d4a070f5803e00b0d463059a4611dc6e9a5" name="gga691dc5889dbab1928b10cbaa4d0c34d4a070f5803e00b0d463059a4611dc6e9a5"></a>MTB_HAL_SYSPM_CB_SYSTEM_HIGH&#160;</td><td class="fielddoc"><p >Flag for High Performance mode callback. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga8c1406573cb935a6e847b1914a492d70" name="ga8c1406573cb935a6e847b1914a492d70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8c1406573cb935a6e847b1914a492d70">&#9670;&nbsp;</a></span>mtb_hal_syspm_callback_mode_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__group__hal__syspm.html#ga8c1406573cb935a6e847b1914a492d70">mtb_hal_syspm_callback_mode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration of the transition modes in custom callback. </p>
<p >The general sequence is: CHECK_READY, BEFORE_TRANSITION, AFTER_TRANSITION. If any callback indicates that it is not able to change state as part of CHECK_READY, CHECK_FAIL will be run instead of the BEFORE/AFTER_TRANSITION. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga8c1406573cb935a6e847b1914a492d70a1ec5f520b677b096ac6d7ffd4695236f" name="gga8c1406573cb935a6e847b1914a492d70a1ec5f520b677b096ac6d7ffd4695236f"></a>MTB_HAL_SYSPM_CHECK_READY&#160;</td><td class="fielddoc"><p >Callbacks with this mode are executed before entering into the low power mode. </p>
<p >The purpose of this transition state is to check if the device is ready to enter the low power mode. The application must not perform any actions that would prevent transition after returning true for this mode. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga8c1406573cb935a6e847b1914a492d70aa1c11cc55900b51dff51056e2e80e6f9" name="gga8c1406573cb935a6e847b1914a492d70aa1c11cc55900b51dff51056e2e80e6f9"></a>MTB_HAL_SYSPM_CHECK_FAIL&#160;</td><td class="fielddoc"><p >Callbacks with this mode are only executed if the callback returned true for MTB_HAL_SYSPM_CHECK_READY and a later callback returns false for MTB_HAL_SYSPM_CHECK_READY. </p>
<p >This mode should roll back any changes made to avoid blocking transition made in MTB_HAL_SYSPM_CHECK_READY mode </p>
</td></tr>
<tr><td class="fieldname"><a id="gga8c1406573cb935a6e847b1914a492d70ae907f6459924e85c66b1797012ad1613" name="gga8c1406573cb935a6e847b1914a492d70ae907f6459924e85c66b1797012ad1613"></a>MTB_HAL_SYSPM_BEFORE_TRANSITION&#160;</td><td class="fielddoc"><p >Callbacks with this mode are executed after the MTB_HAL_SYSPM_CHECK_READY callbacks' execution returns true. </p>
<p >In this mode, the callback must perform the actions to be done before entering into the low power mode. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga8c1406573cb935a6e847b1914a492d70a80a5989f7fa33d043e1f54a3e2a12269" name="gga8c1406573cb935a6e847b1914a492d70a80a5989f7fa33d043e1f54a3e2a12269"></a>MTB_HAL_SYSPM_AFTER_TRANSITION&#160;</td><td class="fielddoc"><p >In this mode, the application must perform the actions to be done after exiting the low power mode. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga8c1406573cb935a6e847b1914a492d70a319783ad99b59d408584fa1206f060d4" name="gga8c1406573cb935a6e847b1914a492d70a319783ad99b59d408584fa1206f060d4"></a>MTB_HAL_SYSPM_AFTER_DS_WFI_TRANSITION&#160;</td><td class="fielddoc"><p >Performs the actions to be done after exiting the Deepsleep low power mode if entered and before the interrupts are enabled. </p>
<p >This mode is not invoked on all devices, see the implementation specific documentation for details. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gacfc8d0cf40f48f91743367f70e43c48a" name="gacfc8d0cf40f48f91743367f70e43c48a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacfc8d0cf40f48f91743367f70e43c48a">&#9670;&nbsp;</a></span>mtb_hal_syspm_register_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_syspm_register_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__syspm__callback__data__t">mtb_hal_syspm_callback_data_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__hal__syspm.html#structmtb__hal__syspm__callback__params__t">mtb_hal_syspm_callback_params_t</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register the specified handler with the power manager to be notified of power state changes. </p>
<p >This callback will be called before any of the peripheral callbacks for <a class="el" href="group__group__hal__syspm.html#gga8c1406573cb935a6e847b1914a492d70a1ec5f520b677b096ac6d7ffd4695236f">MTB_HAL_SYSPM_CHECK_READY</a> and <a class="el" href="group__group__hal__syspm.html#gga8c1406573cb935a6e847b1914a492d70ae907f6459924e85c66b1797012ad1613">MTB_HAL_SYSPM_BEFORE_TRANSITION</a>. </p><dl class="section note"><dt>Note</dt><dd>The callback will be executed from a critical section</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">obj</td><td>The callback object. The caller must allocate the memory for this object, but the HAL will populate its </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>The paramers for the callback to register </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CY_RSLT_SUCCESS if the callback was successfully registered, otherwise an error </dd></dl>

</div>
</div>
<a id="ga88930aa9c4b67a4b78e4f83b517cc50f" name="ga88930aa9c4b67a4b78e4f83b517cc50f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga88930aa9c4b67a4b78e4f83b517cc50f">&#9670;&nbsp;</a></span>mtb_hal_syspm_unregister_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_syspm_unregister_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hal__impl__hw__types.html#structmtb__hal__syspm__callback__data__t">mtb_hal_syspm_callback_data_t</a> *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes the registered handler from the power manager so no future notifications are made. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>The callback object to unregister. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CY_RSLT_SUCCESS if the callback was successfully unregistered, otherwise an error </dd></dl>

</div>
</div>
<a id="gaf861965317611e6a247fe20f18d25cdf" name="gaf861965317611e6a247fe20f18d25cdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf861965317611e6a247fe20f18d25cdf">&#9670;&nbsp;</a></span>mtb_hal_syspm_sleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_syspm_sleep </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set CPU to sleep mode. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns CY_RSLT_SUCCESS if the processor successfully entered the sleep mode , otherwise error. </dd></dl>

</div>
</div>
<a id="gacfaa3dc405630a0acfc06a6bae7f511c" name="gacfaa3dc405630a0acfc06a6bae7f511c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacfaa3dc405630a0acfc06a6bae7f511c">&#9670;&nbsp;</a></span>mtb_hal_syspm_deepsleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_syspm_deepsleep </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set CPU to deep sleep mode. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns CY_RSLT_SUCCESS if the processor successfully entered the deep sleep mode, otherwise error. </dd></dl>

</div>
</div>
<a id="ga001357e514b21137e4a5aea186bb3376" name="ga001357e514b21137e4a5aea186bb3376"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga001357e514b21137e4a5aea186bb3376">&#9670;&nbsp;</a></span>mtb_hal_syspm_lock_deepsleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mtb_hal_syspm_lock_deepsleep </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lock deep sleep. </p>
<p >This function prevents the CPU from going to deep sleep. The lock is implemented as a counter from 0 to USHRT_MAX. Each call to this function increments the counter by 1. <a class="el" href="group__group__hal__syspm.html#ga120dcd9be700a41962cbf4d43afae8c8">mtb_hal_syspm_unlock_deepsleep</a> must be called an equal number of times to fully unlock. Deepsleep will only be allowed when the counter is equal to 0. </p>

</div>
</div>
<a id="ga120dcd9be700a41962cbf4d43afae8c8" name="ga120dcd9be700a41962cbf4d43afae8c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga120dcd9be700a41962cbf4d43afae8c8">&#9670;&nbsp;</a></span>mtb_hal_syspm_unlock_deepsleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mtb_hal_syspm_unlock_deepsleep </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlock deep sleep. </p>
<p >This function decrements the lock counter by 1 and must be called an equal number of times as <a class="el" href="group__group__hal__syspm.html#ga001357e514b21137e4a5aea186bb3376">mtb_hal_syspm_lock_deepsleep</a> is called to fully unlock. Deepsleep will only be allowed when the counter is equal to 0. </p>

</div>
</div>
<a id="ga34e4d3222a2d65f31f177c9155a36dfc" name="ga34e4d3222a2d65f31f177c9155a36dfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga34e4d3222a2d65f31f177c9155a36dfc">&#9670;&nbsp;</a></span>mtb_hal_syspm_tickless_deepsleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_syspm_tickless_deepsleep </td>
          <td>(</td>
          <td class="paramtype">mtb_hal_lptimer_t *&#160;</td>
          <td class="paramname"><em>lptimer_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>desired_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>actual_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timed deep-sleep without system timer. </p>
<p >Provides a way to deep-sleep for a desired number of milliseconds(ms) with the system timer disabled. The system timer is disabled before sleeping and a low power timer is setup to wake the device from deep-sleep after the desired number of ms have elapsed.</p>
<dl class="section note"><dt>Note</dt><dd>The actual ms in the best case will be 1 ms less than the desired time to prevent the device from over-sleeping due to low clock accuracy.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lptimer_obj</td><td>Pre-Initialized LPTimer object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">desired_ms</td><td>Desired number of ms to deep-sleep. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">actual_ms</td><td>Actual number of ms in which systick timer was disabled. This value can range from 0 to desired_ms - 1 depending on how long the device was able to deep-sleep. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the deep-sleep request. </dd></dl>

</div>
</div>
<a id="gafe35e11b5d4ab953a6556da3d3f0560f" name="gafe35e11b5d4ab953a6556da3d3f0560f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe35e11b5d4ab953a6556da3d3f0560f">&#9670;&nbsp;</a></span>mtb_hal_syspm_tickless_sleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__result.html#gaca79700fcc701534ce61778a9bcf57d1">cy_rslt_t</a> mtb_hal_syspm_tickless_sleep </td>
          <td>(</td>
          <td class="paramtype">mtb_hal_lptimer_t *&#160;</td>
          <td class="paramname"><em>lptimer_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>desired_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>actual_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timed sleep without system timer. </p>
<p >Provides a way to sleep for a desired number of milliseconds(ms) with the system timer disabled. The system timer is disabled before sleeping and a low power timer is setup to wake the device from sleep after the desired number of ms have elapsed.</p>
<dl class="section note"><dt>Note</dt><dd>The actual ms in the best case will be 1 ms less than the desired time to prevent the device from over-sleeping due to low clock accuracy.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lptimer_obj</td><td>Pre-Initialized LPTimer object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">desired_ms</td><td>Desired number of ms to sleep. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">actual_ms</td><td>Actual number of ms that was spent in sleep. This value can range from 0 to desired_ms - 1 depending on how long the device was able to sleep. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the sleep request. </dd></dl>

</div>
</div>
<a id="gaa74f4937237e9a9c925e1c1e92784ec0" name="gaa74f4937237e9a9c925e1c1e92784ec0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa74f4937237e9a9c925e1c1e92784ec0">&#9670;&nbsp;</a></span>mtb_hal_syspm_get_deepsleep_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__hal__syspm.html#gac65483c92a89b178ab6a1a7c9ef8e947">mtb_hal_syspm_system_deep_sleep_mode_t</a> mtb_hal_syspm_get_deepsleep_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get current deep sleep mode. </p>
<p >Provides a way to get the current deep sleep mode. </p><dl class="section return"><dt>Returns</dt><dd>The current deep sleep mode. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>Hardware Abstraction Layer (HAL)</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
